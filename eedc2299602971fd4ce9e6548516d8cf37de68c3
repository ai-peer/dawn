{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2604f33a_0e4f175a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "Add perf test on shader robustness",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 24
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "246099fe_3a565503",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2604f33a_0e4f175a",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 24
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa2a6f8b_93c54dd7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-29T07:49:05Z",
      "side": 1,
      "message": "Please take a look, thanks.\nCurrently, the use_tint_generator cases are failed due to tine bug. See https://bugs.chromium.org/p/tint/issues/detail?id\u003d744.",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aafff02c_065bb401",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "LGTM, aaaaand I just realized I wasn\u0027t supposed to review yet. Sorry about that ðŸ˜Š",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ab56877_009d05dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "No worries. I just wanted to save your time before officially inviting you to review this PR. Glad to know that there is no big concern from you.",
      "parentUuid": "aafff02c_065bb401",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5c2b5a3_d1084e80",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "Seems like Tint might not be correctly zero-initializing?",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "420ed96b_02dafe8c",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "This annotation is moved from TFJS shader. Previously, we met incorrect result on macOS. So we added this initialization. But I just checked the translated result using SPIRV-Cross. It seems that it already supports zero-initialization. But for tint generator, it seems that it hasn\u0027t been supported or has bugs. So I prefer to keep this initialization. How do you think?",
      "parentUuid": "e5c2b5a3_d1084e80",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "400f5dcf_3bff29dd",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "I opened an issue about this, can you add a TODO(tint:759) ?",
      "parentUuid": "420ed96b_02dafe8c",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ef8a4d8_6973f43d",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "should be",
      "range": {
        "startLine": 151,
        "startChar": 60,
        "endLine": 151,
        "endChar": 63
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff7e61ea_5e8a4054",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "I think it is correct actually. Though I\u0027m not a native speaker either ^^",
      "parentUuid": "9ef8a4d8_6973f43d",
      "range": {
        "startLine": 151,
        "startChar": 60,
        "endLine": 151,
        "endChar": 63
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8eeb758_1311909b",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Let\u0027s keep it. Personally, I think \u0027requires that\u0027 has the meaning of \u0027should be\u0027.",
      "parentUuid": "ff7e61ea_5e8a4054",
      "range": {
        "startLine": 151,
        "startChar": 60,
        "endLine": 151,
        "endChar": 63
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75a47bd0_f3ceb5e1",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a8eeb758_1311909b",
      "range": {
        "startLine": 151,
        "startChar": 60,
        "endLine": 151,
        "endChar": 63
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a613aa8_d71461b7",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 316,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "Test doing matrix multiplication ... ?",
      "range": {
        "startLine": 316,
        "startChar": 3,
        "endLine": 316,
        "endChar": 29
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f384d7e0_d32b0778",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 316,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Changed it to a more meaningful sentence. I referred to Corentin\u0027s comment:\nTest the execution time of matrix multiplication (A [dimAOuter, dimInner] * B [dimInner, dimBOuter]) on the GPU and see the difference between robustness on and off.",
      "parentUuid": "6a613aa8_d71461b7",
      "range": {
        "startLine": 316,
        "startChar": 3,
        "endLine": 316,
        "endChar": 29
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ff4b8f7_c4733753",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 316,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f384d7e0_d32b0778",
      "range": {
        "startLine": 316,
        "startChar": 3,
        "endLine": 316,
        "endChar": 29
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3928c9fa_a751b022",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 345,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "Is there any risk that the randomness here would cause noise in the execution time? I don\u0027t think so but just checking.",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a34288d_07a921bf",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 345,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "I think the noise is very small. But for safe, I removed the assignment. And we can directly use the initial value of dataA.",
      "parentUuid": "3928c9fa_a751b022",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e729066d_5a85dad9",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 345,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "Ok so now we\u0027ll be multiplying a bunch of zeroes? ^^ That works, the shader doesn\u0027t know it\u0027s zeroes. (maybe we could call out that it\u0027s meant to be all zeros in a comment if people are curious in the future)",
      "parentUuid": "7a34288d_07a921bf",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a353d5e0_b2eafc7a",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 353,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "You can simplify this with:\n\nwgpu::Buffer bufA \u003d utils::CreateBufferFromData(device, dataA.data(), wgpu::BufferUsage::Storage | wgpu::BufferUsage::CopyDst, byteASize);",
      "range": {
        "startLine": 349,
        "startChar": 4,
        "endLine": 353,
        "endChar": 56
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72404da1_9158c2e0",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 353,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "+1 and CreateBufferFromData adds CopyDst for you as well.",
      "parentUuid": "a353d5e0_b2eafc7a",
      "range": {
        "startLine": 349,
        "startChar": 4,
        "endLine": 353,
        "endChar": 56
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b57a4b86_4882e227",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 353,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72404da1_9158c2e0",
      "range": {
        "startLine": 349,
        "startChar": 4,
        "endLine": 353,
        "endChar": 56
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62f57469_828d5f75",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "You can simplify this with utils::CreateBufferFromData().",
      "range": {
        "startLine": 362,
        "startChar": 0,
        "endLine": 363,
        "endChar": 56
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ebb39886_98bb51aa",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 363,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62f57469_828d5f75",
      "range": {
        "startLine": 362,
        "startChar": 0,
        "endLine": 363,
        "endChar": 56
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b799d7f7_1d64adea",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 419,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "I think here we only want to test the overhead brought by the extra checks inside shader to ensure shader access robustness. There are also other kinds of \"robustness\", for example vertex buffer and indirect buffer robustness.\n\nSo maybe it\u0027s better to call this test \"ShaderRobustnessPerf\"?",
      "range": {
        "startLine": 419,
        "startChar": 7,
        "endLine": 419,
        "endChar": 21
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48c6c160_f23f71f2",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 419,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b799d7f7_1d64adea",
      "range": {
        "startLine": 419,
        "startChar": 7,
        "endLine": 419,
        "endChar": 21
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79a78aea_512b14df",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 423,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "Just checking, the goal is to look at the graph for the execution time on the GPU and see the difference between robustness on and off?",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8feb8cce_e2633d1a",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 423,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "Yes. Also add this comment to the test description :)",
      "parentUuid": "79a78aea_512b14df",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0910fec0_0295473e",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 423,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8feb8cce_e2633d1a",
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08e0acb2_57293bb2",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 424,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-04-29T08:11:43Z",
      "side": 1,
      "message": "Currently we have to disable the Toggle \"use_tint_generator\" for this test because of the issue tint:744",
      "range": {
        "startLine": 424,
        "startChar": 90,
        "endLine": 424,
        "endChar": 91
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84b73280_0305d3cb",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 424,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-29T11:52:05Z",
      "side": 1,
      "message": "Should be have variants of the test with robustness as well so we can compare?",
      "parentUuid": "08e0acb2_57293bb2",
      "range": {
        "startLine": 424,
        "startChar": 90,
        "endLine": 424,
        "endChar": 91
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e56c2a7_ac78fd70",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 424,
      "author": {
        "id": 1000241
      },
      "writtenOn": "2021-04-30T08:00:35Z",
      "side": 1,
      "message": "*Backend({}, {\"use_tint_generator\"}) or *Backend() is the test with robustness since it uses robustness by default. Is it what you want? Or you are suggesting other ways?",
      "parentUuid": "84b73280_0305d3cb",
      "range": {
        "startLine": 424,
        "startChar": 90,
        "endLine": 424,
        "endChar": 91
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d261b4fd_81fffb76",
        "filename": "src/tests/perf_tests/RobustnessPerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 424,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-04-30T08:36:22Z",
      "side": 1,
      "message": "I was thinking about having both Backend({}, {use_tint_generator if supported}) and Backend({disable_robustness}, {use_tint_generator if supported}). WDYT?",
      "parentUuid": "6e56c2a7_ac78fd70",
      "range": {
        "startLine": 424,
        "startChar": 90,
        "endLine": 424,
        "endChar": 91
      },
      "revId": "eedc2299602971fd4ce9e6548516d8cf37de68c3",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}