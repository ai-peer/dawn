{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "62d5fd0e_2c176014",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2023-06-08T12:15:53Z",
      "side": 1,
      "message": "Thank you for your contribution.\n\nPlease can I ask why you want an install target?\n\nWe don\u0027t encourage pre-builts as we\u0027ve made no efforts to provide a stable API.\nWe\u0027ve also made little effort to support shared objects.\n\nThis adds _all_ the dawn, tint and third_party headers to the install directory, and almost none of this is meant to be public API.\n\nI\u0027m concerned that this gives the impression that we support pre-builts when we actively discourage them (right now).",
      "revId": "aa78ee31cbb91fbab737dd193e76a7733e68d46b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e43db88_7e5dfbf0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003691
      },
      "writtenOn": "2023-06-08T14:16:36Z",
      "side": 1,
      "message": "At the moment I want to include it into a bigger project that has multiple dependencies. Our build tools build things from source and run cmake install to include everything as all other libraries normally do. Do you have a recommendation on how I should depend on dawn as a library?",
      "parentUuid": "62d5fd0e_2c176014",
      "revId": "aa78ee31cbb91fbab737dd193e76a7733e68d46b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72bde926_5bd6cdeb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-08T15:26:57Z",
      "side": 1,
      "message": "Could you statically link to it? But also if it\u0027s just for deployment of your application and not the rest, then it may be sufficient to only install the few Dawn libraries you use and not all the headers.",
      "parentUuid": "7e43db88_7e5dfbf0",
      "revId": "aa78ee31cbb91fbab737dd193e76a7733e68d46b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcd6bf71_a8c9d29a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003691
      },
      "writtenOn": "2023-06-08T16:04:44Z",
      "side": 1,
      "message": "Hum, not sure I understand what you mean ðŸ˜•? It is not for the deployment of the library I\u0027m working with. Dawn is a new dependency to this library that, for making life easier to developers, downloads all dependencies with a known working version/commit, builds them from source and install all dependencies in a target folder. I could make changes to code but, not sure what is the suggested way of consuming Dawm.",
      "parentUuid": "72bde926_5bd6cdeb",
      "revId": "aa78ee31cbb91fbab737dd193e76a7733e68d46b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a3a14970_176de297",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-14T13:54:50Z",
      "side": 1,
      "message": "Thank you for the patience, I kind of forgot about this thread :/ We need to write better documentation on how to use Dawn, but you should be able to Fetch Dawn with a single commit then use https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/tools/fetch_dawn_dependencies.py to get all you need. Then in CMake add-subdirectory and link against webgpu_dawn https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/dawn/native/CMakeLists.txt;drc\u003dfb59c57a1e1d26397a46c4da25200f840fc7a660;l\u003d687 We should definitely make this better documented.\n\nThat said I\u0027m not a CMake expert and don\u0027t exactly understand the discussion about shared libraries. Are you not linking Dawn statically? Otherwise I think it should be sufficient to copy over libwebgpu_dawn.so\n\nIn general we\u0027d like to avoid having install targets for everything because we don\u0027t think Dawn is a good fit to use in a package manager, and making CMake install targets useful would incentivize package maintainers to create packages.",
      "parentUuid": "dcd6bf71_a8c9d29a",
      "revId": "aa78ee31cbb91fbab737dd193e76a7733e68d46b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}