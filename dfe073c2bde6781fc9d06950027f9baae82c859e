{
  "comments": [
    {
      "key": {
        "uuid": "0ee5dd22_1dbb5c75",
        "filename": "src/dawn_native/d3d12/BufferD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 234,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "You can use DAWN_TRY(CheckHRESULT(stuff))",
      "range": {
        "startLine": 229,
        "startChar": 0,
        "endLine": 234,
        "endChar": 9
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62a892bd_b78d9fa2",
        "filename": "src/dawn_native/d3d12/BufferD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto DAWN_TRY(CheckHRESULT(stuff))",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69b06cdb_1994f0d1",
        "filename": "src/dawn_native/d3d12/CommandAllocatorManager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "Ideally we don\u0027t use ConsumedError in the backends and everything boils up to the frontend. This one is fine because I think it will be handled by Rafael as part of the CommandRecordingContext CL.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfb0cefa_549b9347",
        "filename": "src/dawn_native/d3d12/CommandAllocatorManager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a897cdcb_3e99bf39",
        "filename": "src/dawn_native/d3d12/CommandAllocatorManager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto. For example for this one you could make Tick return a MaybeError and DAWN_TRY() it in Device::TickImpl.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e600b9b_3c7067d2",
        "filename": "src/dawn_native/d3d12/D3D12Error.cpp",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-10-09T00:28:06Z",
      "side": 1,
      "message": "If we\u0027re going to output HRESULT strings, I\u0027d rather output the raw hex value instead of trying to map things to strings like you\u0027ve done. Most of the interesting errors D3D and DXGI return are not in your list and that list is quite substantial. !error in Windbg should give you a better error string that what you have here.",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 48,
        "endChar": 0
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e610859_eaeadbec",
        "filename": "src/dawn_native/d3d12/D3D12Error.cpp",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-10-09T02:35:14Z",
      "side": 1,
      "message": "drive-by (haven\u0027t reviewed the code yet): Apparently FormatMessage can do this:\nhttps://stackoverflow.com/a/455533",
      "parentUuid": "5e600b9b_3c7067d2",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 48,
        "endChar": 0
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e21f2e2e_6d3bec26",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-10-09T00:28:06Z",
      "side": 1,
      "message": "Instead of what you have here, you should use the DAWN_TRY and DAWN_TRY_ASSIGN macros. Those output improved line numbers information and result in less code at the callsite.\n\nSame goes for all other instances where you explicitly check for IsError.",
      "range": {
        "startLine": 68,
        "startChar": 8,
        "endLine": 74,
        "endChar": 9
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f84699ea_13a78789",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 211,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-10-09T00:28:06Z",
      "side": 1,
      "message": "I have a CL which eliminates this function altogether. Might be best to wait until that one lands first.\n\nIf we decide to land yours first, then OpenCommandList needs to return MaybeError. Otherwise the caller will use the nullptr out parameter and crash.",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 211,
        "endChar": 0
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "240c73d8_813724c9",
        "filename": "src/dawn_native/d3d12/NativeSwapChainImplD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto here and below, avoid ConsumedError.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19739f8a_f6565739",
        "filename": "src/dawn_native/d3d12/PipelineLayoutD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-10-09T00:28:06Z",
      "side": 1,
      "message": "This code needs to be pulled out into an Initialize function that is called from a static Create function. \n\nFollow the pattern Corentin started as part of https://dawn-review.googlesource.com/c/dawn/+/11861\n\n(Same goes for other places where you\u0027ve handled resource creation in constructors)",
      "range": {
        "startLine": 152,
        "startChar": 0,
        "endLine": 161,
        "endChar": 0
      },
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4233f0f5_1858bb33",
        "filename": "src/dawn_native/d3d12/QueueD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto DAWN_TRY(CheckHRESULT(stuff))",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc9b5281_94c2c4a6",
        "filename": "src/dawn_native/d3d12/QueueD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "Uh returning a u64 for MaybeError shouldn\u0027t work.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f32f1dc_9c188f0d",
        "filename": "src/dawn_native/d3d12/RenderPipelineD3D12.cpp",
        "patchSetId": 2
      },
      "lineNbr": 395,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "ditto.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7dca01e5_74347877",
        "filename": "src/dawn_native/d3d12/ResourceAllocator.cpp",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-10-09T08:32:44Z",
      "side": 1,
      "message": "Ditto, we should avoid ConsumedError.",
      "revId": "dfe073c2bde6781fc9d06950027f9baae82c859e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    }
  ]
}