{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cea52db7_925d5d12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2024-04-03T20:56:41Z",
      "side": 1,
      "message": "Shall we try a reland? Looks like the flake in `android-dawn-arm64-rel` is gone (I got 3 green runs on this CL). Maybe it\u0027s the dangling pointer fix or some other fix that get underneath problem fixed somehow.",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46ae5c61_d12514f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2024-04-03T22:28:03Z",
      "side": 1,
      "message": "here\u0027s top-of-tree on this bot; it has no flakes:\nhttps://ci.chromium.org/ui/p/chromium/builders/ci/Dawn%20Android%20arm64%20Release%20(Pixel%206)/8944/test-results?sortby\u003d\u0026groupby\u003d\n\ntwo of your runs on android-dawn-arm64-rel:\nhttps://ci.chromium.org/ui/p/chromium/builders/try/android-dawn-arm64-rel/9715/test-results?sortby\u003d\u0026groupby\u003d\nhttps://ci.chromium.org/ui/p/chromium/builders/try/android-dawn-arm64-rel/9720/test-results?sortby\u003d\u0026groupby\u003d\n\nlots of flakes - it passed due to retries, but it seems quite flaky",
      "parentUuid": "cea52db7_925d5d12",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1cdcca89_3f79668b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2024-04-03T23:47:16Z",
      "side": 1,
      "message": "Thanks for catching that. I tried locally built chrome_public_apk and run cts on a pixel-8, android-u, no luck seeing a failure. (the `android-dawn-arm64-rel` bot is pixel-6, android-t though)\n\nAlso tried the cmd from the swarm page but stuck at a python line asking for some strings (not yet dive in to look at) `vpython3 content/test/gpu/run_gpu_integration_test.py webgpu_cts --show-stdout --browser\u003dandroid-chromium --passthrough -v --stable-jobs --extra-browser-args\u003d\"--enable-logging\u003dstderr --js-flags\u003d--expose-gc --force_high_performance_gpu --enforce-browser-version --use-webgpu-power-preference\u003ddefault-high-performance\" --jobs\u003d1 --total-shards\u003d36 --shard-index\u003d24`\n\nHow would you try to repro and triage this?",
      "parentUuid": "46ae5c61_d12514f8",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fee6e87f_87362eb4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2024-04-04T01:25:37Z",
      "side": 1,
      "message": "Managed to repro via the following on Linux workstation:\n\n```\nvpython3 tools/mb/mb.py isolate out/Release telemetry_gpu_integration_test_android_chrome\n```\n\n```\n./tools/luci-go/isolate archive -cas-instance chromium-swarm -i out/Release/telemetry_gpu_integration_test_android_chrome.isolate\n```\n^Use the resulting digest from this call in the next one.\n\n```\n./tools/luci-go/swarming trigger -S https://chromium-swarm.appspot.com -d \"pool\u003dchromium.tests.gpu\" -d \"os\u003dAndroid\" -d \"device_os\u003dT\" -d \"device_abi\u003darm64-v8a\" -d \"device_os_flavor\u003dgoogle\" -digest cd9cdf0956154becc2396aadec3a6ed19bf386750b7f37381ee64b1f2c343c81/814 -- vpython3 testing/test_env.py testing/scripts/run_gpu_integration_test_as_googletest.py content/test/gpu/run_gpu_integration_test.py --isolated-script-test-output\u003d${ISOLATED_OUTDIR}/output.json webgpu_cts --browser\u003dandroid-chromium --passthrough -v --stable-jobs --show-stdout --extra-browser-args\u003d\"--enable-logging\u003dstderr --js-flags\u003d--expose-gc --force_high_performance_gpu --enable-dawn-features\u003dallow_unsafe_apis --use-webgpu-power-preference\u003ddefault-high-performance --enable-webgpu-developer-features\" --total-shards\u003d1 --shard-index\u003d0 --jobs\u003d1 --test-filter\u003d\"webgpu:shader,execution,expression,access,matrix,index:*\"\n```\nSee https://chromium-swarm.appspot.com/task?id\u003d68bf830c355a0910\n\nNote that I ran it again after and it didn\u0027t repro, so might need to get lucky with the run? But overall the runs are fairly quick. Might be able to specify some args to make it run multiple times too? Not sure off the top of my head.\n\ngn args:\n```\ndcheck_always_on \u003d true\ndebuggable_apks \u003d false\nffmpeg_branding \u003d \"Chrome\"\nis_component_build \u003d false\nis_debug \u003d true\nproprietary_codecs \u003d true\nsymbol_level \u003d 1\ntarget_cpu \u003d \"arm64\"\ntarget_os \u003d \"android\"\nuse_remoteexec \u003d true\n```",
      "parentUuid": "1cdcca89_3f79668b",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d42b30d_21fde21f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2024-04-04T02:14:36Z",
      "side": 1,
      "message": "given that it\u0027s flaky, you might need to run a larger group of tests to get it to repro. that could mean something like:\n\nwith 4 jobs, there\u0027s too many threads doing too many things, and that causes things to be slow. this would be surprising though because then we should see the problem without futures\n\nafter a lot of tests run, we get into a situation where extra memory piles up and makes things slow? like maybe we\u0027re not clearing out the set of completed futures and there\u0027s a large list that stays alive. if the list is really big, polling it becomes slow too\n\nor there is some deadlock? like polling the futures, and adding/completing futures deadlocks because of lock acquisition order (potentially).",
      "parentUuid": "fee6e87f_87362eb4",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a34e8760_71486d42",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2024-04-04T20:06:39Z",
      "side": 1,
      "message": "This running on the swarming bot looks great. Found at https://dawn.googlesource.com/dawn/+/HEAD/webgpu-cts/README.md#running-a-local-cts-build-on-swarming\n\nMy problem is it keeps saying `Cannot find browser of type android-chromium. `: https://chromium-swarm.appspot.com/task?id\u003d68c38207196fe410\n\nI\u0027m using the same build cmd and args as above (Only difference is my build folder is out/Android). I built chrome_public_apk successfully before so I should have gclient sync checked out android component correctly.",
      "parentUuid": "4d42b30d_21fde21f",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "216d4cfa_7d65d69c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2024-04-04T21:01:19Z",
      "side": 1,
      "message": "Oh, yea unfortunately it has to be in `out/Release` for it to work... heh... Not sure why the infra is like that...",
      "parentUuid": "a34e8760_71486d42",
      "revId": "35ed2bc6ae7b8e7889f00aa920259087defd2409",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}