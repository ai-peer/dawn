{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "af9f9e06_97dc30f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-12-03T07:15:44Z",
      "side": 1,
      "message": "PTAL, thanks!",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a8b55ac_b2774e04",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-03T09:28:08Z",
      "side": 1,
      "message": "LGTM",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db1cb527_8b1610d6",
        "filename": "src/dawn_native/Queue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-03T09:28:08Z",
      "side": 1,
      "message": "Maybe explain that this is a WebGPU spec constraint, and that it is coming from Vulkan.",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf0b9039_629935f5",
        "filename": "src/dawn_native/Queue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 101,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-12-06T02:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db1cb527_8b1610d6",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e838aeeb_7046e97e",
        "filename": "src/dawn_native/Queue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-03T23:41:00Z",
      "side": 1,
      "message": "This logic depends on the comment above as well (\"since both of them are powers of two...\"). I don\u0027t think that will ever change but I think it needs an explicit callout that this line assumes offsetAlignment is already a power of 2. (If it weren\u0027t this could cause offsetAlignment to be unaligned with optimalOffsetAlignment or byteSize.)\n\nAlso, since it\u0027s already assuming that, offsetAlignment \u003d std::max(offsetAlignment, 4u) should work equally well and is more consistent with line 99.",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a0cf0c4_fcd8c469",
        "filename": "src/dawn_native/Queue.cpp",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-12-06T02:27:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e838aeeb_7046e97e",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f4b9510_4bcb536c",
        "filename": "src/tests/end2end/QueueTests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 660,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-03T09:28:08Z",
      "side": 1,
      "message": "Can we have some commments that explain how this tests the issue? Right now I don\u0027t see why it would reproduce the problem: it\u0027s not that the source offset isn\u0027t aligned, the issue is that the DynamicUploader gives back an unaligned pointer. So I think we just need to do 2 writeTextures, one an R8Unorm of a single pixel that will unalign the DynamicUploader, then one into a stencil aspect that would have used the unaligned dynamic uploader.",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2789f888_d4a92951",
        "filename": "src/tests/end2end/QueueTests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 660,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-12-06T02:27:06Z",
      "side": 1,
      "message": "I\u0027ve just updated the comments here to explain how to reproduce this issue in the test. I think using R8Unorm and Stencil textures are same, what do you think?",
      "parentUuid": "6f4b9510_4bcb536c",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9aa59935_130f532a",
        "filename": "src/tests/end2end/QueueTests.cpp",
        "patchSetId": 1
      },
      "lineNbr": 660,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-12-06T05:55:58Z",
      "side": 1,
      "message": "The reason why I think using R8Unorm and Stencil textures are same is that in the first writeTexture call the data is always written into the offset 0 of the staging buffer regardless of the format of the destination texture.",
      "parentUuid": "2789f888_d4a92951",
      "revId": "2ac57686b69aed3006b6c20694918a15e030317c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}