{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "15668a3d_eb478055",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-16T17:52:01Z",
      "side": 1,
      "message": "Hey Austin! Do you mind reviewing this one instead?",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8695e27d_3f4dc537",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-16T18:07:21Z",
      "side": 1,
      "message": "Overall, some comments on how to parameterize the tests to have less code duplication.\n\nI triggered tryjobs for you. Do you have permissions to click the CQ Dry Run button?\n\nLocally, if you run the end2end_tests with --gtest_filter\u003d*CopyTests* --enable-backend-validation it might help us determine if we need to add the internal usages without waiting for the tryjobs to come back.",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30f9209f_c259ef98",
        "filename": "src/dawn_native/CommandEncoder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 808,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-16T18:07:21Z",
      "side": 1,
      "message": "nit: prefer to have { } on the body",
      "range": {
        "startLine": 808,
        "startChar": 16,
        "endLine": 808,
        "endChar": 38
      },
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3b6a01e_462b8307",
        "filename": "src/dawn_native/CommandEncoder.cpp",
        "patchSetId": 3
      },
      "lineNbr": 808,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-22T23:27:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30f9209f_c259ef98",
      "range": {
        "startLine": 808,
        "startChar": 16,
        "endLine": 808,
        "endChar": 38
      },
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d14d229a_438a3253",
        "filename": "src/tests/end2end/CopyTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2407,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-16T18:07:21Z",
      "side": 1,
      "message": "in order to have less test verbosity, I think we should use the newly introduced DAWN_INSTANTIATE_TEST_P to make this a parameterized test.\n\nCheck out the comments in DawnTest.h and src/tests/end2end/NonzeroTextureCreationTests.cpp for an example.\n\nDon\u0027t need to overhaul the whole test to use parameters, but would be good to have a boolean to generate variants for internal / not-internal",
      "range": {
        "startLine": 2407,
        "startChar": 0,
        "endLine": 2407,
        "endChar": 21
      },
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20db50c5_f419d5bd",
        "filename": "src/tests/end2end/CopyTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2407,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-22T23:27:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d14d229a_438a3253",
      "range": {
        "startLine": 2407,
        "startChar": 0,
        "endLine": 2407,
        "endChar": 21
      },
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "401c382c_ba0cef65",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-16T18:07:21Z",
      "side": 1,
      "message": "we discussed that this extra coverage is good in case the implementation of copyTextureToTextureInternal starts to diverge more or change validation further.\n\nBut duplicating all these tests will make maintenance more difficult.\nWe don\u0027t have DAWN_INSTANTIATE_TEST_P in the unittests, but we can still use Gtest\u0027s INSTANTIATE_TEST_SUITE_P and TEST_P.",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23980bbc_f53aa638",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-22T23:41:13Z",
      "side": 1,
      "message": "I\u0027m not sure how to test this one ina. parametrized style, as the ValidationTest class for what these test classes inherit from, is not of the parametrized way.\nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/tests/unittests/validation/ValidationTest.h;l\u003d63?q\u003dValidationTest\u0026ss\u003dchromium\n\nI could create a different TestT2TCopyAndInternal that could try to use the TestT2TCopy And the TestT2TCopyInternal, removing the srcCopy usage flag (or adding it), to be able to test both internal and normal CopyTextureToTexture, and making each test test both at the same time.\n\nThat would make it easier to maintain but there would be some cases where a test would be testing both methods at the same time. Which is not ideal, but it would be better than the first approach I used.\n\nWDYT?",
      "parentUuid": "401c382c_ba0cef65",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af158e6d_a21691a6",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-23T04:31:24Z",
      "side": 1,
      "message": "Ah, I hadn\u0027t realized this - I think for now it should be okay to write validation tests to test specifically the usage/no-usage bits you\u0027re adding. We can file a TechDebt bug to improve the testing as a follow-up.",
      "parentUuid": "23980bbc_f53aa638",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "302b2f8d_e0666fd7",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-23T13:11:21Z",
      "side": 1,
      "message": "Yes, that\u0027s a good point. I will do that.",
      "parentUuid": "af158e6d_a21691a6",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3446f4e0_9daddda9",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1002567
      },
      "writtenOn": "2021-07-23T16:08:51Z",
      "side": 1,
      "message": "Just added a basic incorrect usage working test. \n\nWhere should I add the TechDebt bug? Is there a Dawn specific bug system or just the chromium one?",
      "parentUuid": "302b2f8d_e0666fd7",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93ccda69_41b8384c",
        "filename": "src/tests/unittests/validation/CopyCommandsValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2019,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-07-23T16:12:16Z",
      "side": 1,
      "message": "crbug.com/dawn",
      "parentUuid": "3446f4e0_9daddda9",
      "revId": "9eca780d0f565c3df0d60815aa6913bba23bf2ba",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}