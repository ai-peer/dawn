{
  "comments": [
    {
      "key": {
        "uuid": "2acf7beb_92c28711",
        "filename": "src/dawn_native/d3d12/ResidencyManagerD3D12.cpp",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1000248
      },
      "writtenOn": "2020-05-27T19:06:51Z",
      "side": 1,
      "message": "This is just an arbitrary value that seems large enough to get the job done. Another idea is just looping on RemoveSingleEntryFromLRU and calling MakeResident until the LRU is emptied.",
      "revId": "d3549b616f136b8e2bee3dde16b973a984d3df0d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78c40221_f42bb6c6",
        "filename": "src/dawn_native/d3d12/ResidencyManagerD3D12.cpp",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-05-27T19:17:11Z",
      "side": 1,
      "message": "Is this sure to guarantee MakeResident succeeds the second time? Maybe we should catch the failure the second time and just let it thrash.",
      "parentUuid": "2acf7beb_92c28711",
      "revId": "d3549b616f136b8e2bee3dde16b973a984d3df0d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b3d6b04_65e66a42",
        "filename": "src/dawn_native/d3d12/ResidencyManagerD3D12.cpp",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1000248
      },
      "writtenOn": "2020-05-27T21:33:02Z",
      "side": 1,
      "message": "It\u0027s not a guarantee, however if the previous Evict call didn\u0027t evict enough (due to fragmentation or driver oddities) - I was just thinking that 100MB would be enough to overcome the discrepancy in most scenarios.\n\n\u003e\u003e just let it thrash.\n\nWe should always to call MakeResident if we know something will be used. It is invalid to use any resource on the GPU that is not currently resident and may cause a device loss later. Given  this - I\u0027m thinking I should revise this CL.",
      "parentUuid": "78c40221_f42bb6c6",
      "revId": "d3549b616f136b8e2bee3dde16b973a984d3df0d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8cc3fd7_34992c7c",
        "filename": "src/dawn_native/d3d12/ResidencyManagerD3D12.cpp",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-05-28T08:48:51Z",
      "side": 1,
      "message": "IMHO if we hit this then something bad is happening and we should evict everything we can so kAdditionalSizeToEvict could be 1 \u003c\u003c 63. WDYT?",
      "parentUuid": "1b3d6b04_65e66a42",
      "revId": "d3549b616f136b8e2bee3dde16b973a984d3df0d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbc81c51_148df0a1",
        "filename": "src/dawn_native/d3d12/ResidencyManagerD3D12.cpp",
        "patchSetId": 1
      },
      "lineNbr": 295,
      "author": {
        "id": 1000248
      },
      "writtenOn": "2020-05-28T16:42:35Z",
      "side": 1,
      "message": "I like that solution a lot. I was trying to come up with something more incremental, but it is awkward since a MakeResident failure doesn\u0027t tell which memory segment needs cleaned out. Just evicting everything immediately is simple and to-the-point. \n\nRafael - WDYT?",
      "parentUuid": "b8cc3fd7_34992c7c",
      "revId": "d3549b616f136b8e2bee3dde16b973a984d3df0d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    }
  ]
}