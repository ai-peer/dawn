{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96578be5_6490c3ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-06-08T23:01:37Z",
      "side": 1,
      "message": "PTAL! The other option for doing this would be what I started in https://dawn-review.googlesource.com/c/dawn/+/53881/1. It felt more involved so I didn\u0027t go through with it.",
      "revId": "6d9771b098805a865039230e8a979c632556283b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8bb8f52_204ba47d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-06-09T08:36:54Z",
      "side": 1,
      "message": "LGTM!",
      "revId": "6d9771b098805a865039230e8a979c632556283b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea37ff8c_d38adfe8",
        "filename": "src/dawn_native/CommandEncoder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 633,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-06-09T02:43:45Z",
      "side": 1,
      "message": "What about only inserting the source and destiantion into mTopLevelBuffers when (size !\u003d 0) ?",
      "range": {
        "startLine": 632,
        "startChar": 0,
        "endLine": 633,
        "endChar": 53
      },
      "revId": "6d9771b098805a865039230e8a979c632556283b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bcc3306_0e7917eb",
        "filename": "src/dawn_native/CommandEncoder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 633,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-06-09T03:44:34Z",
      "side": 1,
      "message": "We can\u0027t do that because we still look at mTopLevelBuffers for validation. Even if we no-op a copy, we need to validate that all resources referenced are not in the destroyed state.",
      "parentUuid": "ea37ff8c_d38adfe8",
      "range": {
        "startLine": 632,
        "startChar": 0,
        "endLine": 633,
        "endChar": 53
      },
      "revId": "6d9771b098805a865039230e8a979c632556283b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1646a1a_913f9afd",
        "filename": "src/dawn_native/CommandEncoder.cpp",
        "patchSetId": 1
      },
      "lineNbr": 633,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-06-09T08:36:54Z",
      "side": 1,
      "message": "Another solution would be to make mTopLevelBuffers and textures use Ref\u003c\u003e and remove the Ref\u003c\u003e from the serialized commands. Maybe in the future we\u0027ll want to move to that model so that we don\u0027t need to walk all the command buffer again just to destroy resources.",
      "parentUuid": "0bcc3306_0e7917eb",
      "range": {
        "startLine": 632,
        "startChar": 0,
        "endLine": 633,
        "endChar": 53
      },
      "revId": "6d9771b098805a865039230e8a979c632556283b",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}