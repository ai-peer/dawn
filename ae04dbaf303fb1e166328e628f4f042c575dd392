{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6c16b99c_5f1d6691",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 3453757
      },
      "writtenOn": "2024-05-26T22:23:41Z",
      "side": 1,
      "message": "I run the pre-commit and also test with Node, but there might be things that I overlooked structurally, and maybe there\u0027s an aspect about the commit that\u0027s not good for the review system here. Your guidance would be appreciated! Thank you!",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48cb1086_ca832fc6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-05-27T08:21:21Z",
      "side": 1,
      "message": "LGTM",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6deb6e9_89efe51b",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 586,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-05-27T08:21:21Z",
      "side": 1,
      "message": "When adding new capabilities we always gate them first behind the AllowUnsafeAPIs toggle so 1) we don\u0027t ship feature before they are fully tested 2) we control when the feature becomes visible to developers and attackers.\n\nThis would involve adding a check using that Toggle here similar to [1] and a tiny test in [2]. I think for this feature we\u0027d like to at least have a few CTS tests before launching it, just to test that hardware support actually works.\n\n[1] https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/dawn/native/CommandEncoder.cpp;drc\u003dc0265133106c7647e90f9aaa4377d28190b1a6a9;l\u003d2200\n[2] https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/dawn/tests/unittests/validation/UnsafeAPIValidationTests.cpp",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2a4d1a6_99afb86f",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 586,
      "author": {
        "id": 3453757
      },
      "writtenOn": "2024-05-27T10:26:22Z",
      "side": 1,
      "message": "@Corentin thank you so much for your guidance. I made a commit where an additional check before the compressed format and dimension conditions against allow unsafe. I kept the other message same with a bit of information about 3D so that developers can know to enable unsafe if they want to try it. I also added to unsafe validation tests. But I might have got your advice wrong, so please let me know if I can improve in any way.\n\nIn terms of CTS, a PR is open already: https://github.com/gpuweb/cts/pull/3762\n\nWhich I did test against with `./tools/run run-cts --bin\u003dout/Debug --cts\u003d../cts \u0027webgpu:api,validation,texture,*\u0027`\n\nThank you so much!",
      "parentUuid": "b6deb6e9_89efe51b",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f04f2316_d53e0410",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 586,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-05-27T13:21:20Z",
      "side": 1,
      "message": "Thanks, the Dawn code change looks good. The CTS change is just for validation, which means that it tests that the driver doesn\u0027t crash, but there is no checks that things actually work for 3D compressed textures. Tests could be enabled for copy between texture/buffers with 3D texture and compressed formats. Tests for 3D textures could be enabled for compressed formats etc.",
      "parentUuid": "e2a4d1a6_99afb86f",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df5a97d9_dea80158",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 586,
      "author": {
        "id": 3453757
      },
      "writtenOn": "2024-05-27T13:46:05Z",
      "side": 1,
      "message": "@Corentin thank you very much! Then I guess no further changes for this CL and I leave as-is for review or merge? For CTS, I\u0027ll try to follow-up in the repo itself once review arrives. Appreciated!",
      "parentUuid": "f04f2316_d53e0410",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cd80ddc_a40b1039",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 586,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2024-05-27T13:50:14Z",
      "side": 1,
      "message": "From my POV this CL is good as is. I gave you ACLs to use CQ+1 to run tests, and use CQ+2 when you have CodeReview+2 granted by Dawn committers. We tend to require two reviews for all non-trivial CLs, so let\u0027s wait for Kai\u0027s review as well.",
      "parentUuid": "df5a97d9_dea80158",
      "revId": "ae04dbaf303fb1e166328e628f4f042c575dd392",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}