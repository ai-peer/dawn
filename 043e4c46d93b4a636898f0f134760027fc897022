{
  "comments": [
    {
      "key": {
        "uuid": "e6c9f004_ee690230",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-08-07T17:52:54Z",
      "side": 1,
      "message": "Out of curiosity, what is the rationale for only doing \"sampled\" textures? This doesn\u0027t seem to match the code in RecordRenderPass, which only appears to do render targets.\n\n(Same comment goes for the Vulkan backend)",
      "range": {
        "startLine": 506,
        "startChar": 43,
        "endLine": 506,
        "endChar": 97
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "498b209d_26414069",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-08-07T18:18:12Z",
      "side": 1,
      "message": "usages.textureUsages[i]\n\nA texture could have multiple usages, but we only care about its usage in this pass.",
      "range": {
        "startLine": 506,
        "startChar": 44,
        "endLine": 506,
        "endChar": 63
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aaf7002f_c585f29f",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-08-07T18:18:12Z",
      "side": 1,
      "message": "I believe the intent is that since OutputAttachment textures are going to be cleared using a loadOp and not the \"EnsureSubresourceContentInitialized\" method,\nwe want to lazy-clear other usages.\n\nI think it would be more clear to reverse the logic so that we \"skip lazy clear for OutputAttachments\"\n\nif ((usages.textureUsages[i] \u0026 dawn::TextureUsageBit::OutputAttachment) !\u003d 0) {\n  // Comment that uninitialized OutputAttachments are cleared by other means.\n  continue;\n}\n\nThen, since OutputAttachment usages only occur in RenderPasses, I don\u0027t think you need the bool \"initTexturesForPass\"",
      "parentUuid": "e6c9f004_ee690230",
      "range": {
        "startLine": 506,
        "startChar": 43,
        "endLine": 506,
        "endChar": 97
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c79ed965_d80dd637",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T18:28:23Z",
      "side": 1,
      "message": "because before, in transitionForPass, we would go through all the textures that would be used in the pass, and initialize them. But now, we want to initialize the textures in the renderpass using loadop clear instead. We lazy clear the attachments in RecordRenderPass, but sampled textures are not in the the list of attachments (since we\u0027re just sampling from them) so they get left dirty.\n\nJust got Austin\u0027s comment, and that sounds like a better idea. Thanks!",
      "parentUuid": "e6c9f004_ee690230",
      "range": {
        "startLine": 506,
        "startChar": 43,
        "endLine": 506,
        "endChar": 97
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e53788ce_aeb2d377",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c79ed965_d80dd637",
      "range": {
        "startLine": 506,
        "startChar": 43,
        "endLine": 506,
        "endChar": 97
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31620c27_e780f148",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "498b209d_26414069",
      "range": {
        "startLine": 506,
        "startChar": 44,
        "endLine": 506,
        "endChar": 63
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec40df86_da0371ae",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 506,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-08-08T18:21:16Z",
      "side": 1,
      "message": "Thank you for the clarification, Austin and Natasha.",
      "parentUuid": "c79ed965_d80dd637",
      "range": {
        "startLine": 506,
        "startChar": 43,
        "endLine": 506,
        "endChar": 97
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a7e852d_ed650833",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 534,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-08-07T17:52:54Z",
      "side": 1,
      "message": "Please add a comment here explaining why you\u0027re passing true for BeginComputePass but false for BeginRenderpass.\n\n(Same comment goes for the Vulkan backend)",
      "range": {
        "startLine": 534,
        "startChar": 87,
        "endLine": 534,
        "endChar": 91
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d53916e2_c20284c4",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 7
      },
      "lineNbr": 534,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done. This bool was removed.",
      "parentUuid": "0a7e852d_ed650833",
      "range": {
        "startLine": 534,
        "startChar": 87,
        "endLine": 534,
        "endChar": 91
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7759c115_43c0fd3d",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 362,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-08-07T17:52:54Z",
      "side": 1,
      "message": "Since OpenGL does not (nor ever will) have a concept of render passes, consider keeping things for that implementation.",
      "range": {
        "startLine": 362,
        "startChar": 69,
        "endLine": 362,
        "endChar": 93
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee027479_b4b6dc4e",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 362,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T18:28:23Z",
      "side": 1,
      "message": "do you mean to remove these?",
      "parentUuid": "7759c115_43c0fd3d",
      "range": {
        "startLine": 362,
        "startChar": 69,
        "endLine": 362,
        "endChar": 93
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22e4e123_ee7b20fa",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 362,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee027479_b4b6dc4e",
      "range": {
        "startLine": 362,
        "startChar": 69,
        "endLine": 362,
        "endChar": 93
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad584936_6cd64ef8",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 362,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2019-08-08T18:21:16Z",
      "side": 1,
      "message": "Apologies, I meant to write \"... consider keeping things simple* for that implementation\".  So yes, I meant to suggest that these changes be removed.",
      "parentUuid": "ee027479_b4b6dc4e",
      "range": {
        "startLine": 362,
        "startChar": 69,
        "endLine": 362,
        "endChar": 93
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e7c0c73_ee7fd76e",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 374,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-08-07T18:18:12Z",
      "side": 1,
      "message": "// Comment...\n// If it\u0027s a color attachment, vulkan / d3d12 don\u0027t count..\nlazyClear \u003d (\n  (usages.textureUsages[i] \u0026 dawn::TextureUsageBit::OutputAttachment) !\u003d 0 \u0026\u0026\n  texture-\u003eGetFormat().IsColor());",
      "range": {
        "startLine": 366,
        "startChar": 16,
        "endLine": 374,
        "endChar": 17
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e928829b_bd2f992b",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 374,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e7c0c73_ee7fd76e",
      "range": {
        "startLine": 366,
        "startChar": 16,
        "endLine": 374,
        "endChar": 17
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c75c3d9b_ca915e4a",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 723,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-08-07T18:18:12Z",
      "side": 1,
      "message": "Won\u0027t this happen in TransitionForPass?",
      "range": {
        "startLine": 712,
        "startChar": 16,
        "endLine": 723,
        "endChar": 17
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "276eea23_393d3a74",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 7
      },
      "lineNbr": 723,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2019-08-07T21:33:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c75c3d9b_ca915e4a",
      "range": {
        "startLine": 712,
        "startChar": 16,
        "endLine": 723,
        "endChar": 17
      },
      "revId": "043e4c46d93b4a636898f0f134760027fc897022",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    }
  ]
}