{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7cad5be5_d8170913",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "Looks good overall, this was quite a tour of all the Dawn backends!",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9004504c_f759dcf4",
        "filename": "src/dawn_native/BindGroup.cpp",
        "patchSetId": 6
      },
      "lineNbr": 233,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "nit: read this from |bindingInfo|",
      "range": {
        "startLine": 233,
        "startChar": 52,
        "endLine": 233,
        "endChar": 84
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23025897_74cdc61a",
        "filename": "src/dawn_native/BindGroup.cpp",
        "patchSetId": 6
      },
      "lineNbr": 233,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "(instead of passing it as an argument)",
      "parentUuid": "9004504c_f759dcf4",
      "range": {
        "startLine": 233,
        "startChar": 52,
        "endLine": 233,
        "endChar": 84
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac20d61c_5b4b363e",
        "filename": "src/dawn_native/BindGroup.cpp",
        "patchSetId": 6
      },
      "lineNbr": 233,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T17:11:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9004504c_f759dcf4",
      "range": {
        "startLine": 233,
        "startChar": 52,
        "endLine": 233,
        "endChar": 84
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aaef4299_06ad1df3",
        "filename": "src/dawn_native/BindGroupLayout.cpp",
        "patchSetId": 6
      },
      "lineNbr": 273,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "nit: Can this be removed?",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec29ddc8_2a194800",
        "filename": "src/dawn_native/BindGroupLayout.cpp",
        "patchSetId": 6
      },
      "lineNbr": 273,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Not entirely just yet, but it doesn\u0027t need to be a separate function any more.",
      "parentUuid": "aaef4299_06ad1df3",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b190ed0_1b4ebf0b",
        "filename": "src/dawn_native/BindGroupLayout.cpp",
        "patchSetId": 6
      },
      "lineNbr": 273,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-18T10:05:20Z",
      "side": 1,
      "message": "Ah I see it still needs to handle the deperecated path. Can we add a TODO that it should become `return binding.buffer.type !\u003d Undefined` (and a bunch of asserts to check we already validated that the BGLE is well formed wrt to having a single non-undefined type).",
      "parentUuid": "ec29ddc8_2a194800",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "294385ad_9b1c5af2",
        "filename": "src/dawn_native/BindingInfo.h",
        "patchSetId": 6
      },
      "lineNbr": 67,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "not for this CL, but could these be a union since we have |bindingType| ?",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 67,
        "endChar": 51
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "784d702b_9ddb5d44",
        "filename": "src/dawn_native/BindingInfo.h",
        "patchSetId": 6
      },
      "lineNbr": 67,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "Imho unions are always kind of scary because they lack the type safety of sum types.",
      "parentUuid": "294385ad_9b1c5af2",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 67,
        "endChar": 51
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fef7db88_83aa61dc",
        "filename": "src/dawn_native/BindingInfo.h",
        "patchSetId": 6
      },
      "lineNbr": 67,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T17:11:54Z",
      "side": 1,
      "message": "Good idea. Left a TODO.",
      "parentUuid": "294385ad_9b1c5af2",
      "range": {
        "startLine": 64,
        "startChar": 8,
        "endLine": 67,
        "endChar": 51
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "655d8b81_446ffb5d",
        "filename": "src/dawn_native/Format.cpp",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "nit: this comment doesn\u0027t apply at the moment.",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f69c4ff5_7ce43f62",
        "filename": "src/dawn_native/Format.cpp",
        "patchSetId": 6
      },
      "lineNbr": 82,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "655d8b81_446ffb5d",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce93cffd_5b52cb1b",
        "filename": "src/dawn_native/Format.cpp",
        "patchSetId": 6
      },
      "lineNbr": 85,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "Indeed, we should add the UnfilterableFloat value to the ComponeneTypeBit (and rename it to SampleTypeBit)",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c3b4210_ac85196b",
        "filename": "src/dawn_native/PipelineLayout.cpp",
        "patchSetId": 6
      },
      "lineNbr": 99,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "nit: only check properties based on the type of |binding| ?",
      "range": {
        "startLine": 89,
        "startChar": 15,
        "endLine": 99,
        "endChar": 61
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac538685_2299b16b",
        "filename": "src/dawn_native/PipelineLayout.cpp",
        "patchSetId": 6
      },
      "lineNbr": 99,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T17:11:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c3b4210_ac85196b",
      "range": {
        "startLine": 89,
        "startChar": 15,
        "endLine": 99,
        "endChar": 61
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b08974a0_30505cff",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 329,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "nit: this switch statement could be merged into [1] and this function inlined in ValidateCompatibilityWithBindGroupLayout",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eda3aa58_88b27813",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 329,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Not clear on what [1] refers to in this case?",
      "parentUuid": "b08974a0_30505cff",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5dfbcade_763cd2e9",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 329,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-18T10:05:20Z",
      "side": 1,
      "message": "Added the note to [1] sorry I forgot it in the first place.",
      "parentUuid": "eda3aa58_88b27813",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19ce70f7_2cf8d024",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 502,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "nit: could be moved in the switch case for ::Buffer",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25f642eb_2d654f2d",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 502,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19ce70f7_2cf8d024",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9097199_ad129d7b",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 538,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "u-nit: We could maybe know this by checking the storage class of the variable using https://source.chromium.org/chromium/chromium/src/+/master:third_party/spirv-cross/spirv-cross/spirv_cross.hpp;l\u003d182?q\u003dspirv_cross.hpp instead of an extra argument.",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c137292_420d0777",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 538,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Hrm. I tried this but ran into a bunch of test failures. Digging a bit deeper I would expect that all of the \"Uniform\" buffers should report `StorageClassUniform` and all the \"Storage\" buffers should report `StorageClassStorageBuffer`. That appears to be true most of the time, but for some unit tests (like a bunch of the MinBufferSizePipelineCreationTests) the buffers on the storage branch are consistently reporting as `StorageClassUniform`.\n\nLeaving this as a TODO so we can look at it further in the future.",
      "parentUuid": "d9097199_ad129d7b",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2159a3df_e0a13df9",
        "filename": "src/dawn_native/ShaderModule.cpp",
        "patchSetId": 6
      },
      "lineNbr": 538,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-18T10:05:20Z",
      "side": 1,
      "message": "Sounds good, we can also wait until we remove SPIRV-Cross and the problem will disappear by itself!",
      "parentUuid": "8c137292_420d0777",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "400c1560_675001f7",
        "filename": "src/dawn_native/ShaderModule.h",
        "patchSetId": 6
      },
      "lineNbr": 104,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "visibility can still be hidden, and we can just leave hasDynamicOffset as is i guess",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d651409_83e44e64",
        "filename": "src/dawn_native/ShaderModule.h",
        "patchSetId": 6
      },
      "lineNbr": 104,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "400c1560_675001f7",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5633295d_81f2f996",
        "filename": "src/dawn_native/d3d12/BindGroupLayoutD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 54,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "unit: put it next to StorageTexture",
      "range": {
        "startLine": 53,
        "startChar": 15,
        "endLine": 54,
        "endChar": 64
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "067d577e_b17bb85a",
        "filename": "src/dawn_native/d3d12/BindGroupLayoutD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 126,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "may make more sense to check |bindingType| before .buffer.hasDynamicOffset - especially if bindingInfo contains a union in the future",
      "range": {
        "startLine": 122,
        "startChar": 11,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "461e9cfa_a25d2e29",
        "filename": "src/dawn_native/d3d12/BindGroupLayoutD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 126,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T17:11:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "067d577e_b17bb85a",
      "range": {
        "startLine": 122,
        "startChar": 11,
        "endLine": 126,
        "endChar": 73
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d109a87_73bde7c2",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 263,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-12-17T04:43:04Z",
      "side": 1,
      "message": "Storage?",
      "range": {
        "startLine": 263,
        "startChar": 68,
        "endLine": 263,
        "endChar": 75
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c71c3d23_e5bc4fba",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 263,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T17:11:54Z",
      "side": 1,
      "message": "*sigh* Yup. Thanks!",
      "parentUuid": "7d109a87_73bde7c2",
      "range": {
        "startLine": 263,
        "startChar": 68,
        "endLine": 263,
        "endChar": 75
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5700171_069af9ac",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 347,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "nit: ASSERT(bindingInfo.bindingType \u003d\u003d Buffer)",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5b8aac94_fea22db2",
        "filename": "src/dawn_native/d3d12/CommandBufferD3D12.cpp",
        "patchSetId": 6
      },
      "lineNbr": 347,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5700171_069af9ac",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4d02cfa_f1c03a8c",
        "filename": "src/dawn_native/opengl/ShaderModuleGL.cpp",
        "patchSetId": 6
      },
      "lineNbr": 199,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "This should check info.bindingType too otherwise it would break when data is uninitialized or if we convert BindingInfo to use an union.",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "678cc7b0_b1bebc82",
        "filename": "src/dawn_native/opengl/ShaderModuleGL.cpp",
        "patchSetId": 6
      },
      "lineNbr": 199,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e4d02cfa_f1c03a8c",
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3aba15a2_9bacae7f",
        "filename": "src/dawn_native/vulkan/CommandBufferVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 180,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-12-17T14:25:53Z",
      "side": 1,
      "message": "This should be `usage`.",
      "range": {
        "startLine": 180,
        "startChar": 44,
        "endLine": 180,
        "endChar": 70
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "573122ef_f3d25f37",
        "filename": "src/dawn_native/vulkan/CommandBufferVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 180,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2020-12-17T19:13:37Z",
      "side": 1,
      "message": "Thanks, good catch!",
      "parentUuid": "3aba15a2_9bacae7f",
      "range": {
        "startLine": 180,
        "startChar": 44,
        "endLine": 180,
        "endChar": 70
      },
      "revId": "d1511a63843ae2685b33a32963083877af49225d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}