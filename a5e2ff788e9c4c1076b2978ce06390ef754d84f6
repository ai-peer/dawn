{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "50fd6a5d_6e205a4d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-13T22:13:08Z",
      "side": 1,
      "message": "PTAL, wanted to hack on some stuff so I revived this old CL. Hopefully it\u0027s pretty incomplete but Vulkan swapchains are going to be complicated so I\u0027ll build them up in several stages.",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6555ff1_f8f4bb6d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-10-14T13:31:55Z",
      "side": 1,
      "message": "BTW, is there a design doc for this? As a native Dawn developer, I have always found the swapchain implementation one of the more confusing and mysterious parts of Dawn, and it would be nice to have some clarity.\n\nLGTM",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "311303ed_d3f892d2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-10-14T14:19:43Z",
      "side": 1,
      "message": "LGTM",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a18b85a_1a4bf189",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T22:08:24Z",
      "side": 1,
      "message": "There isn\u0027t a really a design doc, and even this design is likely to change a bit in the future. But it\u0027s a step in the right direction!\n\nIt is a bit similar to Vulkan: you import a window in wgpu::Surface that\u0027s link to your instance. Then you can create a swapchain on that surface with a given size / usage / format / present mode (subject to some validation). Then each frame you can ask for a texture view to render to, then present it (which implicitly destroys the underlying texture so you can\u0027t use it anymore). To resize the swapchain, you just recreate a new one on the same surface with a different size.\n\nThere\u0027s significant complexity here for two reasons: Vulkan is hell, and we try really hard to present the rendering results even if the size you asked for doesn\u0027t match the window. It will add some blits in the next patch.",
      "parentUuid": "c6555ff1_f8f4bb6d",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aabdf0ca_5292cc71",
        "filename": "examples/SampleUtils.cpp",
        "patchSetId": 7
      },
      "lineNbr": 106,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T23:01:31Z",
      "side": 1,
      "message": "nit: remove this.",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bbab8e9_2960bd9e",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-10-14T13:31:55Z",
      "side": 1,
      "message": "Out of curiosity, is this for MoltenVk, SwiftShader/Mac, or something else?",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3d21a4c9_c6cb9a80",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-14T13:50:17Z",
      "side": 1,
      "message": "Mostly Swiftshader/Mac since that\u0027s what I use for testing most of the time. Also for completeness.",
      "parentUuid": "0bbab8e9_2960bd9e",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18c44e69_0f6024a9",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T22:08:24Z",
      "side": 1,
      "message": "[1]",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f794854_e7f7128f",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-10-14T14:19:43Z",
      "side": 1,
      "message": "or default: return ERROR",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 147,
        "endChar": 80
      },
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0eea10f4_b2781d9f",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T22:08:24Z",
      "side": 1,
      "message": "This statement can be reached if we don\u0027t go in the if at [1], so we need a catchall return at the end of the function.",
      "parentUuid": "8f794854_e7f7128f",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 147,
        "endChar": 80
      },
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b749e3f1_0cf64228",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-10-16T14:14:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0eea10f4_b2781d9f",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 147,
        "endChar": 80
      },
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb0f8a80_f4967926",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 224,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-10-14T14:19:43Z",
      "side": 1,
      "message": "you could probably do some of these now somewhat easily (maybe??) based on the format/usage in the swap chain descriptor if you want",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b9ff4d9_4a8d464e",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 224,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T22:08:24Z",
      "side": 1,
      "message": "I tried doing more, but it was a daunting because there\u0027s so many things to do. In follow ups I\u0027ll (slowly, this is outside of work hours) fix most of the hardcoded ones.",
      "parentUuid": "bb0f8a80_f4967926",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd3f16b4_74fbe427",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 224,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-10-16T14:14:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9b9ff4d9_4a8d464e",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "630c7226_3beb7a18",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 301,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-10-14T13:31:55Z",
      "side": 1,
      "message": "Nit: assert that we haven\u0027t fallen off the end of the list?",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5dd62b6b_c07e973e",
        "filename": "src/dawn_native/vulkan/SwapChainVk.cpp",
        "patchSetId": 7
      },
      "lineNbr": 301,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-15T22:08:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "630c7226_3beb7a18",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1e576e7_083e19a8",
        "filename": "src/dawn_native/vulkan/SwapChainVk.h",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2020-10-14T13:31:55Z",
      "side": 1,
      "message": "Note: some projects use \"Deprecated\" in cases like these (e.g., DeprecatedSwapChain), although I see the base class is already landed, so probably best to go with \"Old\".",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "146e39ba_391abf02",
        "filename": "src/dawn_native/vulkan/SwapChainVk.h",
        "patchSetId": 7
      },
      "lineNbr": 30,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-10-14T13:50:17Z",
      "side": 1,
      "message": "Yeah I should probably have used Deprecated instead of Old originally :/",
      "parentUuid": "c1e576e7_083e19a8",
      "revId": "a5e2ff788e9c4c1076b2978ce06390ef754d84f6",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}