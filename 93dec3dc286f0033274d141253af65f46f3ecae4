{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8626d54a_19bc3037",
        "filename": "src/dawn/common/Result.h",
        "patchSetId": 3
      },
      "lineNbr": 244,
      "author": {
        "id": 1002701
      },
      "writtenOn": "2024-01-12T21:13:56Z",
      "side": 1,
      "message": "TBH I\u0027m not convinced that using std::variant instead of a union is better here since we have to do some bookkeeping for mAcquired anyway - the reason being that we need to return an rvalue reference in AcquireSuccess (and same behind the scenes in AcquireError) which means we can\u0027t reset the variant to an \"acquired\" state (say std::monostate). So I\u0027m inclined to use a union here and keep the previous PayloadType to disambiguate between the cases.",
      "range": {
        "startLine": 243,
        "startChar": 0,
        "endLine": 244,
        "endChar": 49
      },
      "revId": "93dec3dc286f0033274d141253af65f46f3ecae4",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0717f431_4cd601ba",
        "filename": "src/dawn/common/Result.h",
        "patchSetId": 3
      },
      "lineNbr": 244,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2024-01-13T00:07:21Z",
      "side": 1,
      "message": "That\u0027s fine too. I hadn\u0027t realized it returned an rvalue reference.\n\nYou already wrote the union, but I was going to ask if you think it would be adverse to change the return value to `T` instead of `T\u0026\u0026`. I thought that copies of T would be elided by RVO anyway.",
      "parentUuid": "8626d54a_19bc3037",
      "range": {
        "startLine": 243,
        "startChar": 0,
        "endLine": 244,
        "endChar": 49
      },
      "revId": "93dec3dc286f0033274d141253af65f46f3ecae4",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}