{
  "comments": [
    {
      "key": {
        "uuid": "6d90568f_ec098b3d",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: this could be called GetDisplayIOServicePort similarly to CGDisplayIOServicePort",
      "range": {
        "startLine": 44,
        "startChar": 21,
        "endLine": 44,
        "endChar": 49
      },
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e6c0033_6441f0fe",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 44,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d90568f_ec098b3d",
      "range": {
        "startLine": 44,
        "startChar": 21,
        "endLine": 44,
        "endChar": 49
      },
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "434bc4ba_feded588",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: compare to nullptr",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7653151d_d02fd05a",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 51,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "434bc4ba_feded588",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c04975f_1a3c5a7d",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "No need to free in this case because matchingDict is 0.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "453ea54a_8f2b61ab",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 52,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0c04975f_1a3c5a7d",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "896f060d_f98d0836",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: always put braces for control flow.\nnit: iter can be declared just above this line.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ff0f785_bd2ae9b9",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "896f060d_f98d0836",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98491b95_52c1e29b",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "On failure we should CFRelease matchingDict.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07cd24df_01be9003",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 58,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98491b95_52c1e29b",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13f97284_4961cefb",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: compare to nullptr.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "003fdd3e_660c7e0f",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13f97284_4961cefb",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81827453_2518bc50",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: all these variables can be initialized at their first use or just before it.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34c576f3_2e281305",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81827453_2518bc50",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "415f6d9a_a02a5512",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: comment that the \"Get Rule\" means that we don\u0027t need to release these values.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29d10e7e_c990526c",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 72,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "415f6d9a_a02a5512",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f651c1a_35048bbb",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "I worry this might also release vendorIDRef and productIDRef, can we free only when !success or after we got the numbers?",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bd502ae_61255605",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f651c1a_35048bbb",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee67b14b_3e2399d2",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: always put braces for control flow.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7e4c5b1_7a142a82",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee67b14b_3e2399d2",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e75266e0_028023ae",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "serv should be released here.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dcadf11_3c5a5030",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e75266e0_028023ae",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "057ae90e_ee6e912b",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: compare to nullptr.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d8c1996_1046ff31",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "057ae90e_ee6e912b",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75f28121_a5d56b86",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: we only need to do this if data !\u003d nullptr",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "121819c7_b8385d8d",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75f28121_a5d56b86",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4fbe6296_2baea40c",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 283,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "I was hoping we could use the registryID of MTLDevice but apparently it only exists in Metal 2 and I wasn\u0027t able to find how to get the device/vendorID from it in the \"IO Registry Explorer\" tool.",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad8b5041_3379f79f",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 283,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-23T13:51:10Z",
      "side": 1,
      "message": "@Corentin, I tried to get vendor id and device id through registryID, but only found some information like this:\nIOPCIMatch \u003d \"0x68201002 0x68211002 0x68231002 0x68251002 0x68271002 0x682B1002 0x682D1002 \u003e 0x682F1002 0x68351002 0x68391002 0x683B1002 0x683D1002 0x683F1002\";\nor \nIOPCIPrimaryMatch \u003d \"0x0d268086 0x0a268086 0x0a2e8086 0x0d228086 0x04128086\";\n\nThe first four hex is device id, the remaining four is vendor id, I don\u0027t know how to get the correct device id in them (actually the device id is 0x6821 and 0x0a2e in current implementation).\n\nI\u0027m not sure if it is the way you expect it, do you have any suggestion?",
      "parentUuid": "4fbe6296_2baea40c",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4135d19e_886bb427",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 283,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-23T15:28:14Z",
      "side": 1,
      "message": "Ah, it seems registryID corresponds to the driver and its instantiation, not the device itself. We should keep in mind that this does give use some useful information. In the meantime we should go with your solution with the display and I\u0027ll ask Apple if there\u0027s a better way.",
      "parentUuid": "ad8b5041_3379f79f",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "889e2ca4_98169b7d",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 283,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4135d19e_886bb427",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c2246e7_1cfd19a8",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 284,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "Can we add a TODO to do proper error handling?",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a99b2aa_1c0d4fad",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 284,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "All functions in IOServicePortFromCGDisplayID have a clear return value, and any failure will result in a return value of 0. Do we still need error handling here? or you mean we need handle the exceptions such as no device information is found?",
      "parentUuid": "1c2246e7_1cfd19a8",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c96628aa_14b06438",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 285,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit:compare to nullptr",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6001e458_601adea8",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 285,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c96628aa_14b06438",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3796cd5_af09ef65",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2018-11-21T13:30:57Z",
      "side": 1,
      "message": "nit: only release if entry !\u003d nullptr",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f9bf20d_94b06889",
        "filename": "src/dawn_native/metal/DeviceMTL.mm",
        "patchSetId": 3
      },
      "lineNbr": 289,
      "author": {
        "id": 1000030
      },
      "writtenOn": "2018-11-28T09:01:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3796cd5_af09ef65",
      "revId": "b7ca620d3688cdf1ed822d5dd27bbd159eddbef9",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    }
  ]
}