{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7a296f21_03118ee9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-11-26T09:37:23Z",
      "side": 1,
      "message": "LGTM!",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1db71827_1d0b0cc4",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 258,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-11-26T09:37:23Z",
      "side": 1,
      "message": "Ideally we\u0027re able to re-use cMethod cProc etc. Maybe with a \"None\" tag value for the first argument?",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b29eb229_bc401769",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 258,
      "author": {
        "id": 1002956
      },
      "writtenOn": "2021-11-28T09:21:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1db71827_1d0b0cc4",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fc1cd7f_19d94bdd",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-11-26T09:37:23Z",
      "side": 1,
      "message": "Mmmh I wonder if we should make \"procs\" be a native type but that has a suffix, so it would not need special casing. Maybe add a comment to that effect and we can figure out later.",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77e8cfac_2fa69941",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1002956
      },
      "writtenOn": "2021-11-28T09:21:18Z",
      "side": 1,
      "message": "I also considered the approach that makes \"WGPUProc\" be a native category, i concern the \"WGPUProc\" is a function not a data type, do you mean \"WGPUProc\" also can be treated as native type?\n\ntypedef void (*WGPUProc)(void);",
      "parentUuid": "3fc1cd7f_19d94bdd",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee2d3372_b05ddd82",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1002956
      },
      "writtenOn": "2021-11-29T01:41:02Z",
      "side": 1,
      "message": "\u003e I wonder if we should make \"procs\" be a native type but that has a suffix.\n\nHow about moving \"using Proc \u003d WGPUProc;\"[1] from api_app.h to api.h if we want to define \"Proc\" as native type.\n\n[1] https://dawn.googlesource.com/dawn/+/refs/heads/main/generator/templates/webgpu_cpp.h#55",
      "parentUuid": "77e8cfac_2fa69941",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b43eb1b_92acf57b",
        "filename": "generator/dawn_json_generator.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-11-30T04:44:11Z",
      "side": 1,
      "message": "I think it is a good idea to have a type like \"proc\" but maybe instead named \"function pointer\"\n\n    \"get proc address\": {\n        \"category\": \"function\",\n        \"returns\": \"proc\",\n        \"args\": [\n            {\"name\": \"device\", \"type\": \"device\"},\n            {\"name\": \"proc name\", \"type\": \"char\", \"annotation\": \"const*\"}\n        ]\n    },\n    \n    \"proc\": {\n        \"category\": \"function pointer\",\n        \"returns\": \"void\",\n        \"args\": [\n        ]\n    },\n\nI think it would be useful so we can have native-specific extensions that take a function pointer as a member of a descriptor. One use would be the getProc member of the adapter options for OpenGL/ES. https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/include/dawn_native/OpenGLBackend.h;l\u003d28?q\u003dAdapterDiscoveryOptions\n\nex.)\n\n   \"opengl get proc\": {\n       \"category\": \"function pointer\",\n        \"returns\": \"void\",\n        \"args\": [\n           {\"name\": \"name\", \"type\": \"char\", \"annotation\": \"const*\"}\n        ]\n   },\n   \"adapter discovery options opengl\": {\n       \"category\": \"struct\",\n       \"members\": [\n           // no const* annotation because it is already of type \"function pointer\"\n           {\"name\": \"get proc\", \"type\": \"opengl get proc\"},\n       ]\n   },",
      "parentUuid": "ee2d3372_b05ddd82",
      "revId": "45f5e6fdeccd7b57d2847dbea027a7f483d42699",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}