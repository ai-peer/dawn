{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9478aad8_dd4d6200",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1004191
      },
      "writtenOn": "2024-06-27T02:10:17Z",
      "side": 1,
      "message": "Turned out that `DAWN_USE_BUILT_DXC` doesn\u0027t play well with bundling (cmake-win-* jobs failed). Had to push fixes to `third_party/CMakeLists.txt`. Can someone please explain what dxcompiler actually brings and how important it is?",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c70cb1d_0c3c2480",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1004191
      },
      "writtenOn": "2024-06-27T02:10:37Z",
      "side": 1,
      "message": "Marking as unresolved",
      "parentUuid": "9478aad8_dd4d6200",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "082ff89f_40a789e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-06-27T02:19:16Z",
      "side": 1,
      "message": "`dxcompiler` is the HLSL compiler we invoke in order to generate DXIL from the HLSL generated by Tint. It\u0027s required on Windows and very important.",
      "parentUuid": "0c70cb1d_0c3c2480",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80f571e2_5de1b43b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1004191
      },
      "writtenOn": "2024-06-27T11:07:45Z",
      "side": 1,
      "message": "Ah, thanks for clarifying. These two facts made me think it was an experimental/optional feature and not so important:\n\n1. it\u0027s turned off by default in cmake\n2. third_party/dxc is never fetched by fetch_dawn_depdencies.\n\nWas that an oversight in https://dawn-review.googlesource.com/c/dawn/+/161420?",
      "parentUuid": "082ff89f_40a789e5",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "522c29be_acdc68dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-06-27T12:15:34Z",
      "side": 1,
      "message": "DXC is really big, so it\u0027s  better to skip it if desired. Folks using CMake maybe building specific backends (MSL, GLSL, etc) and not care about HLSL. They may also already be using a DXC installed from the system.\n\nChromium, doesn\u0027t use the Cmake build, it uses the GN build and uses gclient to check the dependencies, not `fetch_dawn_dependencies`.\n\nIt\u0027s also used by the `--validate` flag to tint in combination with `--dxc` so we can test the combined HLSL without needing DXC which may not be available.",
      "parentUuid": "80f571e2_5de1b43b",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94369480_40832561",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1004191
      },
      "writtenOn": "2024-06-27T12:31:51Z",
      "side": 1,
      "message": "Got it. Once again, thanks for the explaination. I was wondering about the implications this might have on the prebuilt binaries I planned to eventually get to. Looking into the code, `src/dawn/native/d3d/PlatformFunctions.cpp` dynamically loads symbols from `dxil.dll` and `dxcompiler.dll`, so it\u0027s not absolutely necessary to distribute `dxc` with the prebuilt dawn binaries. It\u0027s quite convenient that dawn can use a DXC already installed in the system!",
      "parentUuid": "522c29be_acdc68dd",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5aae7c1b_f166fb5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 35
      },
      "lineNbr": 0,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-06-27T12:33:50Z",
      "side": 1,
      "message": "It should be possible to build the HLSL backend without DXC, but there is a bug: https://issues.chromium.org/issues/348199046",
      "parentUuid": "94369480_40832561",
      "revId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "37e097f3bb05a908cd4cddf20b0f6933c868ba47",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    }
  ]
}