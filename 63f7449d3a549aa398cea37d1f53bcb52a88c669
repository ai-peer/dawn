{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "20579c8a_31208d00",
        "filename": "src/dawn/tests/DawnTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1359,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2023-11-30T21:42:57Z",
      "side": 1,
      "message": "nit. maybe for these short strings, we could forgo the `R\"()\"` syntax? It\u0027s a bit harder to read because of the extra ()s.",
      "range": {
        "startLine": 1358,
        "startChar": 38,
        "endLine": 1359,
        "endChar": 12
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c541db83_cadac853",
        "filename": "src/dawn/tests/DawnTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1359,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-11-30T23:49:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "20579c8a_31208d00",
      "range": {
        "startLine": 1358,
        "startChar": 38,
        "endLine": 1359,
        "endChar": 12
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbe983a7_ea14e48a",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 173,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2023-11-30T21:42:57Z",
      "side": 1,
      "message": "nit. Might be a bit easier to read if we did something like:\n\n```\nstd::ostringstream shaderSource;\nshaderSource \u003c\u003c R\"(\n    @group(0) @binding(0) var\u003cstorage, read_write\u003e dstBuf : array\u003cu32\u003e;\n    @group(0) @binding(1) var tex1 : texture_2d_array\u003cf32\u003e;\n    // Use sparse binding to test impact of binding remapping\n    @group(0) @binding(4) var tex2 : texture_multisampled_2d\u003cf32\u003e;\n)\"\nshaderSource \u003c\u003c\n    \"@group(1) @binding(3) var tex3 : \" \u003c\u003c tex3Type \u003c\u003c \"\u003cf32\u003e\";\nshaderSource \u003c\u003c R\"(\n    @compute @workgroup_size(1, 1, 1) fn main() {\n        dstBuf[0] \u003d textureNumLayers(tex1); // control case\n        dstBuf[1] \u003d textureNumLevels(tex1);\n        dstBuf[2] \u003d textureNumSamples(tex2);\n        dstBuf[3] \u003d textureNumLevels(tex3);\n        }\n)\";\n```",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 173,
        "endChar": 11
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e7b663d_8f79ae04",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 173,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-11-30T23:49:42Z",
      "side": 1,
      "message": "I don\u0027t mind changing it but is that easier to read? In the existing code there\u0027s what looks to me like a single templated string with a single variable inserted in the middle.\n\nIn the suggested code there\u0027s 3 separate statements breaking up the code and making it harder to read the shader. At least for me.\n\nI moved the \u003cf32\u003e to tex3Type and turned off auto-formatting.\n\nwdyt?",
      "parentUuid": "fbe983a7_ea14e48a",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 173,
        "endChar": 11
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c7b8c29_4974c669",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 173,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2023-12-01T00:05:31Z",
      "side": 1,
      "message": "This is fine also! The only other way that I think could satisfy both is probably to use absl::StrFormat, so something like:\n\n```\nauto shaderSource \u003d absl::StrFormat(R\"(\n    @group(0) @binding(0) var\u003cstorage, read_write\u003e dstBuf : array\u003cu32\u003e;\n    @group(0) @binding(1) var tex1 : texture_2d_array\u003cf32\u003e;\n    // Use sparse binding to test impact of binding remapping\n    @group(0) @binding(4) var tex2 : texture_multisampled_2d\u003cf32\u003e;\n    @group(1) @binding(3) var tex3 : %s;\n\n    @compute @workgroup_size(1, 1, 1) fn main() {\n        dstBuf[0] \u003d textureNumLayers(tex1); // control case\n        dstBuf[1] \u003d textureNumLevels(tex1);\n        dstBuf[2] \u003d textureNumSamples(tex2);\n        dstBuf[3] \u003d textureNumLevels(tex3);\n    }\n)\", tex3Type);\n```\n\nThe downside of this way though is the `tex3Type` is passed a lot later so it\u0027s not immediately obvious what\u0027s subbed, especially if there ends up being more than 1 thing subbed.\n\nFine to leave as is, or to use absl::StrFormat.",
      "parentUuid": "4e7b663d_8f79ae04",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 173,
        "endChar": 11
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc92289f_a66408fc",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 417,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2023-11-30T21:42:57Z",
      "side": 1,
      "message": "nit. similar comment to above, keeping the `\u003cf32\u003e` in the same line makes it look less confusing to me.",
      "range": {
        "startLine": 416,
        "startChar": 0,
        "endLine": 417,
        "endChar": 41
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f0aa493_42d3392e",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 417,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-11-30T23:49:42Z",
      "side": 1,
      "message": "same as above",
      "parentUuid": "cc92289f_a66408fc",
      "range": {
        "startLine": 416,
        "startChar": 0,
        "endLine": 417,
        "endChar": 41
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a0fd2cd_75154af5",
        "filename": "src/dawn/tests/end2end/TextureShaderBuiltinTests.cpp",
        "patchSetId": 6
      },
      "lineNbr": 417,
      "author": {
        "id": 1002831
      },
      "writtenOn": "2023-12-01T00:05:31Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "0f0aa493_42d3392e",
      "range": {
        "startLine": 416,
        "startChar": 0,
        "endLine": 417,
        "endChar": 41
      },
      "revId": "63f7449d3a549aa398cea37d1f53bcb52a88c669",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}