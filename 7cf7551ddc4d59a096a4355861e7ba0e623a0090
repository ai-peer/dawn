{
  "comments": [
    {
      "key": {
        "uuid": "31f5f35c_f8e55245",
        "filename": "src/dawn_wire/client/ApiProcs.cpp",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "could this return a unique_ptr? It would convey clearer ownership. Could be separate CL.",
      "range": {
        "startLine": 30,
        "startChar": 62,
        "endLine": 30,
        "endChar": 78
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cf014fe_e3b279a5",
        "filename": "src/dawn_wire/client/ApiProcs.cpp",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "This doesn\u0027t reach into the memoryTransfer, so maybe it doesn\u0027t need to be manually implemented?",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d54d1368_cac0599e",
        "filename": "src/dawn_wire/client/Buffer.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "Does this apply to the read/writeCallback above too? If so, one tag should be used for both. Also, the tag doesn\u0027t have to be inside MapRequestData, unless multiple requests of different types can be in `requests` at once.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "084b2baa_0f26a065",
        "filename": "src/dawn_wire/client/Buffer.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-07-09T02:24:01Z",
      "side": 1,
      "message": "- Yes we could use a tagged pointer for the callback functions.\n- Although I\u0027m not sure how we could ergonomically have a single tag and two pointers. Seems easier and equally space efficient to use two tagged pointers.\n- Multiple request types can be in `requests` because the client can submit whatever it wants.",
      "parentUuid": "d54d1368_cac0599e",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90f1fb76_28c6251c",
        "filename": "src/dawn_wire/client/Client.cpp",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "Maybe comment about what this case means, e.g. \"if preallocated memory isn\u0027t provided, fall back to inline memory\"",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c4ce375_d711b12f",
        "filename": "src/dawn_wire/client/ClientInlineMemoryTransfer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "nit: newline between ctor/dtor?",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d7e080c_9a4566a7",
        "filename": "src/dawn_wire/client/ClientInlineMemoryTransfer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "This should produce an error that\u0027s propagated and causes a device loss. The client should in general be defensive towards the server (and not just the server being defensive towards the client)",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cfb9d7d_b4cd99b5",
        "filename": "src/dawn_wire/client/ClientInlineMemoryTransfer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "same",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2975d06b_2d41184c",
        "filename": "src/dawn_wire/server/ObjectStorage.h",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "should this have TODO: tagged union?",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "443209df_0f6d62e1",
        "filename": "src/dawn_wire/server/ServerBuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-07-08T22:59:53Z",
      "side": 1,
      "message": "This is the only Deserialize method that returns a bool.\nMaybe the others should return a success status as well? (or take in bool* success)",
      "range": {
        "startLine": 166,
        "startChar": 8,
        "endLine": 166,
        "endChar": 52
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5062ef09_c652db88",
        "filename": "src/dawn_wire/server/ServerBuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2019-07-09T01:55:34Z",
      "side": 1,
      "message": "Result\u003c\u003e would be nice if we can use it here.",
      "parentUuid": "443209df_0f6d62e1",
      "range": {
        "startLine": 166,
        "startChar": 8,
        "endLine": 166,
        "endChar": 52
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "555dfe05_a75a7626",
        "filename": "src/dawn_wire/server/ServerBuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-07-09T02:24:01Z",
      "side": 1,
      "message": "I don\u0027t think we want to expose the headers for Result as part of Dawn\u0027s public API. @cwallez?",
      "parentUuid": "5062ef09_c652db88",
      "range": {
        "startLine": 166,
        "startChar": 8,
        "endLine": 166,
        "endChar": 52
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34191baa_53d670c0",
        "filename": "src/dawn_wire/server/ServerBuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 166,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Yeah that\u0027d be exposing an implementation detail.",
      "parentUuid": "555dfe05_a75a7626",
      "range": {
        "startLine": 166,
        "startChar": 8,
        "endLine": 166,
        "endChar": 52
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd711c5a_8887a2f5",
        "filename": "src/dawn_wire/server/ServerBuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 215,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "This is a bit like magic, I\u0027m wondering if we could avoid counting the data in GetRequireSize() and instead call GetCmdSpace twice.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6be97cb1_2bda21ad",
        "filename": "src/dawn_wire/server/ServerInlineMemoryTransfer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Shouldn\u0027t this be u64 to match the WebGPU buffers being 64bit sized?",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb6ceb80_ee38e03a",
        "filename": "src/dawn_wire/server/ServerInlineMemoryTransfer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 87,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Note: I\u0027m not sure what the standard is in Chromium to split a class over multiple files. I was surprised to find this here.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cffe607_eef30267",
        "filename": "src/include/dawn_wire/WireClient.h",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "nit: implementation in the cpp file.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a548507_02dd2ef8",
        "filename": "src/include/dawn_wire/WireClient.h",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Open as in it received the data?",
      "range": {
        "startLine": 59,
        "startChar": 55,
        "endLine": 59,
        "endChar": 70
      },
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0330757c_47d66229",
        "filename": "src/include/dawn_wire/WireServer.h",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "u-nit: forward declare MemoryTransfer and put it after the Server that\u0027s the main class here? Same thing for the client. Also MemoryTransfer seems like it is missing a word like \"manager\" or \"service\" in the name?",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ae9f654_5772ee02",
        "filename": "src/include/dawn_wire/WireServer.h",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "nit: \u003d default should be in the cpp file. Ditto in other places in this file and in the client.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6f7751d_a4d3d62d",
        "filename": "src/include/dawn_wire/WireServer.h",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Just so I understand, this Serializes an initialization message from the server ReadHandle to the client ReadHandle? I can\u0027t find a better name, except maybe SerializeInitializeMessage, but the comment could be more clear as to what happens.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d81f8bf1_79133051",
        "filename": "src/include/dawn_wire/WireServer.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "Can\u0027t the data be passed to DeserializeClose directly instead of having this state modifying function? Alternatively SetTarget isn\u0027t overridable and just sets protected members.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef4a821b_ad8a3a18",
        "filename": "src/include/dawn_wire/WireServer.h",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-09T14:58:50Z",
      "side": 1,
      "message": "As we add more dependency injection this will grow, maybe it would be a good time to introduce a \"descriptor\" for the creation of WireServer, ditto for the client.",
      "revId": "7cf7551ddc4d59a096a4355861e7ba0e623a0090",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    }
  ]
}