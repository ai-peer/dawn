{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f7783e6a_ecd94c41",
        "filename": "src/dawn/native/CommandEncoder.cpp",
        "patchSetId": 20
      },
      "lineNbr": 142,
      "author": {
        "id": 1004686
      },
      "writtenOn": "2024-02-28T20:11:53Z",
      "side": 1,
      "message": "Drive my comment when looking at related skia change, https://skia-review.googlesource.com/c/skia/+/817378.\n\nMaybe I\u0027m misunderstanding the specs, but my read of at least the Vulkan spec says that the framebuffers attachment size just needs to be less than or equal to the width,height of the VkImage in vkCreateImageInfo. The depth attachment needs to be at least the size of the color attachment.\n\nWith this understanding, I believe Vulkan would allow you to use a smaller DS attachment when rendering the uv planes right? So is it the intention of this change to require all backend APIs to use a larger DS than necessary just because D3D11 requires it to be at least the size of the full texture (i.e. size of plane 0)?",
      "range": {
        "startLine": 142,
        "startChar": 15,
        "endLine": 142,
        "endChar": 89
      },
      "revId": "61bbe46274a501563f87f0cd6eeb4f6a89453c88",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07c298b8_4f74e9b1",
        "filename": "src/dawn/native/CommandEncoder.cpp",
        "patchSetId": 20
      },
      "lineNbr": 142,
      "author": {
        "id": 1002331
      },
      "writtenOn": "2024-02-28T20:34:54Z",
      "side": 1,
      "message": "Sorry the vulkan spec link should be https://registry.khronos.org/vulkan/specs/1.3-extensions/man/html/VkFramebufferCreateInfo.html#VUID-VkFramebufferCreateInfo-flags-04533\n\nYour understanding is correct. vulkan, metal and GL all allow unequal sized attachments. Just the render size (or frame buffer size) must be smaller than all attachments.\n\nBased on Rafael\u0027s answer, D3D11 and D3D12 require depth buffers match the size of plane0 of the color attachments. So we decide to apply this restriction to all backends.",
      "parentUuid": "f7783e6a_ecd94c41",
      "range": {
        "startLine": 142,
        "startChar": 15,
        "endLine": 142,
        "endChar": 89
      },
      "revId": "61bbe46274a501563f87f0cd6eeb4f6a89453c88",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04cd21db_b1cb7108",
        "filename": "src/dawn/native/CommandEncoder.cpp",
        "patchSetId": 20
      },
      "lineNbr": 142,
      "author": {
        "id": 1004686
      },
      "writtenOn": "2024-02-28T20:51:29Z",
      "side": 1,
      "message": "thanks for the info Peng, just wanted to confirm the plan was to force larger sizes across all backends.",
      "parentUuid": "07c298b8_4f74e9b1",
      "range": {
        "startLine": 142,
        "startChar": 15,
        "endLine": 142,
        "endChar": 89
      },
      "revId": "61bbe46274a501563f87f0cd6eeb4f6a89453c88",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}