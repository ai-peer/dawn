{
  "comments": [
    {
      "key": {
        "uuid": "5214baca_dfcc5320",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-11-15T09:19:01Z",
      "side": 1,
      "message": "nit: Maybe have these namespaced inside the RGBA8 class? Global search replace should allow to do the replacement without too much effort.",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee918447_b930c271",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2019-11-15T18:12:30Z",
      "side": 1,
      "message": "Does this mean that all RGBA8 needs to be replaced by RGBA8::RGBA8?",
      "parentUuid": "5214baca_dfcc5320",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55098e0c_abd5d32d",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-11-15T18:14:07Z",
      "side": 1,
      "message": "I think just:\n\nstruct RGBA8 {\n  static constexpr RGBA8 kRed \u003d ...\n};",
      "parentUuid": "ee918447_b930c271",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3804b537_15fc6a45",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2019-11-15T18:33:58Z",
      "side": 1,
      "message": "Yeah, I thought so, but... \n\nwe have already had a struct RGBA8 in DawnTest.h. \n\nAnd I tried that way, but I got compile error if I put these const values into that struct: \nincomplete type \u0027const RGBA8\u0027 is not a literal type. \ndefinition of \u0027RGBA8\u0027 is not complete until the closing \u0027}\u0027\n\nIf I put these const values into another struct RGBA8, it will lead to another compile error: redefinition RGBA8 \n\nA possible way is to add a namespace RGBA which include the struct definition and the const values, then we need to replace all RGBA8 with RGBA8::RGBA8 in that way... So I asked the question above... \n\nDid I make any mistakes via these tries?",
      "parentUuid": "55098e0c_abd5d32d",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee93a47b_bddf67b3",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-11-16T00:09:02Z",
      "side": 1,
      "message": "Sorry for the delay Yunchao. This won\u0027t work with constexpr, but it will work with const.\n\nHowever, static variables need to be defined outside of the declaration in the cpp file.\n\n// In DawnTest.h\nstruct RGBA8 {\n  static const RGBA8 kRed;\n}; \n\n\n\n// At the top of DawnTest.cpp\nconst RGBA8::kRed \u003d RGBA8(....);\n\n\nHowever, it won\u0027t work with constexpr without redeclaring them in *every* .cpp file.\n\nIf const works everywhere, then prefer to do what I suggested. Otherwise, it\u0027s fine for now if they need to be constexpr and outside of the struct. We can always fix it later.\n\nIf you\u0027re blocked on stylistic changes like this and already have +2, please feel free to land.",
      "parentUuid": "3804b537_15fc6a45",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aaf622c_21596ce0",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2019-11-18T02:52:34Z",
      "side": 1,
      "message": "OK. Land this first, and see what Corentin\u0027s suggestion is. We can do another code refactoring if needed.",
      "parentUuid": "ee93a47b_bddf67b3",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d9f5198_2a1afe2d",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2019-11-18T19:01:18Z",
      "side": 1,
      "message": "We can declare the static const variables in .h file, and define its value in .cpp file. Well, we need to define like this: const RGBA8 RGBA8::kRed \u003d RGBA8(...);\n\nAnd just like Austin said, we can only use const, we can\u0027t use constexpr. So I removed a few usage because they have already defined as constexpr, see the CL at https://dawn-review.googlesource.com/c/dawn/+/13760.",
      "parentUuid": "0aaf622c_21596ce0",
      "revId": "fa17d392b71c5b811434c8f9ade6009a768c1f74",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    }
  ]
}