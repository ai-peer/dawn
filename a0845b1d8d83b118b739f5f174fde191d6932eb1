{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0ca2a49d_a8b789c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "LGTM, this is much better and makes CopyTextureForBrowser basically complete up to additional color spaces.",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5157132a_be673dc4",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 872,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "nit: \"sep*e*rate\" -\u003e \"sep*a*rate\".\n\nThat said though, I don\u0027t think this name is very clear. I prefer just \"unpremultiplied\".",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5fb0961_4f7ab59b",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 880,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "Since we now have the generalized conversion code in the shader (nice!) does Dawn really need to understand sRGB and display p3? Could we just have Chromium pass the gamma parameters and conversion matrix instead? (Or maybe the conversion matrix and \"is sRGB encoded\" for src/dst)\n\nThis could simplify a few things:\n\n- less or no work would be required in Dawn for new src color space support\n- we wouldn\u0027t need ValidateCopyTextureColorSpaceConversion\n- we would move all of the ColorSpaceTable data to Blink where it\u0027s probably already known? (Maybe this isn\u0027t true, I don\u0027t know if Chromium has it in Blink or in the GPU process. Maybe we would need to make this call from the GPU process which would be harder.)\n\nThough it also makes the stepsMask more complicated to compute because we would need to compare the actual parameters passed in. Also we would still end up needing some ColorSpaceTable data in the tests.\n\n(We should discuss this further before you make a change. Probably shouldn\u0027t do it in this CL but we could do it before integrating into Chromium if we want to avoid conflicts.)",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "071a10b7_6f26b855",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 880,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-08T00:45:46Z",
      "side": 1,
      "message": "\u003e we would move all of the ColorSpaceTable data to Blink where it\u0027s probably already known?\nNo, chromium doesn\u0027t have it. Chromium calculate all of the matrices and transferFn parameters in runtime(Chromium only have the basic color space metas, e.g. rx, ry, gx, gy, bx, by and white point). So I think we still need to have the similar table in blink.\n\nThe only concern here is the data it transfers between client and server. With ID, we have less bytes to transfer and the serialization/deserialization doesn\u0027t touch the value we need in conversion.\nBTW, Chromium has a comments in the ColorSpace IDs part but I\u0027m not quite sure I fully understand it. It says, \n\"// Used to represet a color space for the purpose of color conversion.\n// This is designed to be safe and compact enough to send over IPC\n// between any processes.\n\"\n(https://source.chromium.org/chromium/chromium/src/+/main:ui/gfx/color_space.h;l\u003d59)",
      "parentUuid": "c5fb0961_4f7ab59b",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e8ab818_8f00cb04",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 880,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T02:04:06Z",
      "side": 1,
      "message": "I don\u0027t really know how those work either or how they\u0027re used. (The main thing I don\u0027t know is whether or how Chromium would get from a user-provided image file to one of these color spaces. Maybe it would always use the \"CUSTOM\" modes.)\n\nThe definitions for srgb and display-p3 are interesting, though (CreateSRGB and CreateDisplayP3D65).",
      "parentUuid": "071a10b7_6f26b855",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3d30207_8a2ed744",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 881,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: usually \"invalid\" is called \"undefined\" and has the value 0, so that 0 init is the same as the empty JS dict.",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae383899_b6804357",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 888,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: \"src color space\", and \"dst color space\"\n\nBut also it really seems like it could be in the main options. We can add the transfer matrices in the main options with an extension struct too.",
      "range": {
        "startLine": 888,
        "startChar": 22,
        "endLine": 888,
        "endChar": 35
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82fb3a3e_2480a74c",
        "filename": "dawn.json",
        "patchSetId": 5
      },
      "lineNbr": 898,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "Maybe add \"tags\": [\"deprecated\"] to alpha op since it is deprecated.",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0f3af10_f93688e0",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "Can be in a follow-up but the names don\u0027t all follow the same convention: conversionMatrix or conversion_matrix?\n\nAlso the u_ prefix is unnecessary since the structure is nested in a \"uniforms\" variable.",
      "range": {
        "startLine": 44,
        "startChar": 16,
        "endLine": 44,
        "endChar": 34
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c12217f_475d5f41",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "Instead of vec4+vec3 could this just be a struct with 7 f32s and 1 u32 (which can then be properly named as A, B, G, E, epsilon, C, F, colorSpaceExtended)?",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f97ae724_b2f7cf78",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 70,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: bool?",
      "range": {
        "startLine": 70,
        "startChar": 78,
        "endLine": 70,
        "endChar": 81
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "829e2471_87befa15",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "I don\u0027t quite understand why you need the colorSpaceIsExtended option at all. (Maybe just because I\u0027ve been thinking only about srgb and display-p3.)\n\nIIUC either colorSpaceIsExtended and you need to handle negative numbers, or it\u0027s not and you can pretend they don\u0027t exist. Here, I think the select() calls have no effect for this reason.\n\nAlso, they don\u0027t save any performance because sign() and abs() occur unconditionally. sign() and abs() are very cheap so I think you should just use them without the select() which will also be cheaper.",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f17c8444_21f9909f",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-08T00:59:20Z",
      "side": 1,
      "message": "Oh, I see. There is some difference between chromium implementation and css spec here.\nIt seems that in css color space spec, we need to handle sign always(https://www.w3.org/TR/css-color-4/#color-conversion-code). But in chromium code to generate decoding/encoding result, it has a extended_ attributes to decide whether we needs sign() and abs()(https://source.chromium.org/chromium/chromium/src/+/main:ui/gfx/color_transform.cc;l\u003d328;drc\u003d94c6fda0960a28d2f7083624c6643ae89cb8d57f;bpv\u003d1;bpt\u003d1).\n\nAnd for display-P3, it generates the code that doesn\u0027t consider the sign but for extended-srgb, it uses it.\n\nI think we could align with css color space spec here.",
      "parentUuid": "829e2471_87befa15",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07243138_2e01df13",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T02:04:06Z",
      "side": 1,
      "message": "That change in the CSS spec is quite new, so that makes sense. And yes, we explicitly want to implement the latest CSS definitions.\n\nChromium is probably just omitting generation of sign()/abs() if it\u0027s not needed, for some performance. I don\u0027t suspect it\u0027s ever harmful to include them - it only makes a difference for negative values and I don\u0027t even know whether we can get negative display-p3 values into the conversion code in Chromium. (It seems very unlikely to me that anything is expecting negative values to have any other behavior anyway.)",
      "parentUuid": "f17c8444_21f9909f",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "648f1072_6f8d2375",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 88,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: select() is not more efficient, nor more readable than just doing (if value \u003c ....) Can we just have a condition and wrap the computations of gamma_part and linear_part in there?\n\nDitto for colorSpaceIsExtended above.",
      "range": {
        "startLine": 88,
        "startChar": 55,
        "endLine": 88,
        "endChar": 81
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b70048cf_3c12a8d2",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 88,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "I suggested this because it seemed better to do one vectorized select() than three separate branches or branching function calls. Maybe it\u0027s not helpful though, especially now that there\u0027s more multiplication inside each part?",
      "parentUuid": "648f1072_6f8d2375",
      "range": {
        "startLine": 88,
        "startChar": 55,
        "endLine": 88,
        "endChar": 81
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e37027f_de6b7971",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 142,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "nit: Since this changes value throughout the function and isn\u0027t always the \"src color\", perhaps rename to just \"color\"",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef515179_c6a6179d",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 146,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: name these constants?",
      "range": {
        "startLine": 146,
        "startChar": 49,
        "endLine": 146,
        "endChar": 54
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7f8ae26_443a24dd",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 335,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "To make the code a bit less fragile, can we have the enum the ColorSpaceInfo is for encoded in ColorSpaceInfo so we can assert that casting the value to an integer is the correct way to index the array?",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8119de98_6ee798da",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 340,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit mathematics",
      "range": {
        "startLine": 340,
        "startChar": 15,
        "endLine": 340,
        "endChar": 25
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a661242f_85e8afc9",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 340,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-08T00:45:46Z",
      "side": 1,
      "message": "Really sry for these mis-spelling issues(in long time). I\u0027ve installed a vscode plug in named Code Spell Checker(https://marketplace.visualstudio.com/items?itemName\u003dstreetsidesoftware.code-spell-checker) to see whether it helps.",
      "parentUuid": "8119de98_6ee798da",
      "range": {
        "startLine": 340,
        "startChar": 15,
        "endLine": 340,
        "endChar": 25
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0460898e_f873f594",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 371,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: matrices",
      "range": {
        "startLine": 371,
        "startChar": 19,
        "endLine": 371,
        "endChar": 26
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ead6ba05_93269acb",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 524,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "Nice that you found these docs that describe exactly what we\u0027re doing here!",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8b4daf6_37568481",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 525,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "\"premultiplied; alpha\"",
      "range": {
        "startLine": 525,
        "startChar": 50,
        "endLine": 525,
        "endChar": 69
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4cfc93bd_a33f582c",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 538,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "nit: I think this would be clearer inverted, like \"needsColorSpaceConversion\".",
      "range": {
        "startLine": 538,
        "startChar": 13,
        "endLine": 538,
        "endChar": 37
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa788d23_b1b4521b",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 544,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "nit: Unpremultiply\n\n(But these comments can be removed when you name the 0x constants anyway.)",
      "range": {
        "startLine": 544,
        "startChar": 39,
        "endLine": 544,
        "endChar": 52
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b53012fc_e8a4e183",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 545,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: this and the same for the dst Tetxture can be put inside the !skipColorSpaceConversion block below.\n\nBut also why is it skipped if we don\u0027t do a color space conversion?",
      "range": {
        "startLine": 543,
        "startChar": 0,
        "endLine": 545,
        "endChar": 13
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a26caa02_da10b267",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 545,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "We have to handle the alpha state if there is a color conversion OR srcTextureAlphaState !\u003d dstTextureAlphaState. 0x01 means \"unpremultiply the source\" so we only need to do it if the source is premultiplied, AND there is either a conversion or the dstTextureAlphaState is different.\n\nLogic looks correct to me. Could maybe be slightly clearer if written as:\n\n        if (options-\u003esrcTextureAlphaState \u003d\u003d wgpu::AlphaState::Premultiplied) {\n            if (needsColorSpaceConversion ||\n                options-\u003esrcTextureAlphaState !\u003d options-\u003edstTextureAlphaState) {",
      "parentUuid": "b53012fc_e8a4e183",
      "range": {
        "startLine": 543,
        "startChar": 0,
        "endLine": 545,
        "endChar": 13
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a64f53f4_4fa3725f",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 555,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: ditto, name these constants?",
      "range": {
        "startLine": 555,
        "startChar": 29,
        "endLine": 555,
        "endChar": 33
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35f11ba8_d5fe8f42",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 558,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "Is the cast really needed? I thought C++ conversion of booleans to integers was well defined to give 0 and 1.",
      "range": {
        "startLine": 558,
        "startChar": 20,
        "endLine": 558,
        "endChar": 67
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3258be83_e915b094",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 575,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "ditto, same as src",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9ea0112_1884a14c",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 575,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "ditto, looks OK to me.",
      "parentUuid": "3258be83_e915b094",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bbec4ff_099714c1",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 582,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "Can we have a device-\u003eEmitDerprecationWarning if these are used?",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10fb13c7_d931a744",
        "filename": "src/dawn_native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 5
      },
      "lineNbr": 588,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "Nice simple handling of the old alphaOp modes!",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4cbe546_b5160f71",
        "filename": "src/tests/DawnTest.h",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: this seems to have moved between patchsets and should be around EXPECT_TEXTURE_EQ",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07e37ea1_34743614",
        "filename": "src/tests/end2end/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 663,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "I\u0027m not sure this is the best shape to make these functions extensible to more color spaces, but we can see later.",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de3fa681_edfc6641",
        "filename": "src/tests/end2end/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 663,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-08T00:45:46Z",
      "side": 1,
      "message": "No, it is not, so I have a TODO in line 637. Plan to calculate the result in CPU or Compute shader with the basic color space info (which means we\u0027ll calculate the conversion matrix, transferFn). But it is a big change, so I plan to have it in a following up CL.",
      "parentUuid": "07e37ea1_34743614",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "429a6dbb_bf2de096",
        "filename": "src/tests/end2end/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 822,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "Apple\u0027s what?",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b26b558_28ea2d4d",
        "filename": "src/tests/end2end/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 822,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-12-08T00:45:46Z",
      "side": 1,
      "message": "Oops...",
      "parentUuid": "429a6dbb_bf2de096",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8f3beb6_de61d7ac",
        "filename": "src/tests/unittests/validation/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 258,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "nit: Color",
      "range": {
        "startLine": 258,
        "startChar": 50,
        "endLine": 258,
        "endChar": 63
      },
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22e9970f_1fa8f009",
        "filename": "src/tests/unittests/validation/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 286,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-12-07T13:58:34Z",
      "side": 1,
      "message": "What about Display P3 to SRGB?",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73529b04_171ab727",
        "filename": "src/tests/unittests/validation/CopyTextureForBrowserTests.cpp",
        "patchSetId": 5
      },
      "lineNbr": 286,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2021-12-08T00:03:47Z",
      "side": 1,
      "message": "It\u0027s in the block above this one. Maybe you meant SRGB to DisplayP3?",
      "parentUuid": "22e9970f_1fa8f009",
      "revId": "a0845b1d8d83b118b739f5f174fde191d6932eb1",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}