{
  "comments": [
    {
      "key": {
        "uuid": "20549859_9f7ce3e9",
        "filename": "src/dawn_native/metal/CommandBufferMTL.mm",
        "patchSetId": 1
      },
      "lineNbr": 834,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2019-07-16T23:18:49Z",
      "side": 1,
      "message": "Metal documentation says that \"The x/y rectangle of the viewport must lie entirely within the current attachment size\". This statement is the same as what it is for SetScissorRect. See https://developer.apple.com/documentation/metal/mtlrendercommandencoder/1515527-setviewport?language\u003dobjc. \n\nThe implementation of scissorRect obeys this rule and clip the scissor rect if needed (see the code below), but I didn\u0027t do that. If we have this restriction, then lots of test in ViewportTest can\u0027t pass (and they are impossible to test at all). For example, I enlarged the viewport as twice as the attachment size, I shifted the viewport to top-left or bottom-right of the attachment, making the viewport rect out of the bounds of attachment. If the viewport rect must lie inside the attachment, these tests are not allowed at all.  \n\nHowever, all tests can pass. It looks like Metal doesn\u0027t obey this rule. \n\nWDYT?",
      "range": {
        "startLine": 831,
        "startChar": 1,
        "endLine": 834,
        "endChar": 50
      },
      "revId": "84adce12d64310e78b9d74b5d2628604d51e10bc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "717c5fbe_0ff0082e",
        "filename": "src/dawn_native/metal/CommandBufferMTL.mm",
        "patchSetId": 1
      },
      "lineNbr": 834,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2019-07-17T10:57:11Z",
      "side": 1,
      "message": "Since it passes even with the Metal debug device enabled, I think it is ok to submit as is. We\u0027ll be sure to check with Apple when we write the relevant part of the spec.",
      "parentUuid": "20549859_9f7ce3e9",
      "range": {
        "startLine": 831,
        "startChar": 1,
        "endLine": 834,
        "endChar": 50
      },
      "revId": "84adce12d64310e78b9d74b5d2628604d51e10bc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b92a618f_70bdca30",
        "filename": "src/dawn_native/opengl/CommandBufferGL.cpp",
        "patchSetId": 1
      },
      "lineNbr": 815,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2019-07-17T14:35:23Z",
      "side": 1,
      "message": "Does this need to be reset at the beginning of a RenderPass? Otherwise, the state will persist between render passes. If it does need to be reset, let\u0027s add tests that would have caught the problem.",
      "range": {
        "startLine": 815,
        "startChar": 23,
        "endLine": 815,
        "endChar": 34
      },
      "revId": "84adce12d64310e78b9d74b5d2628604d51e10bc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    }
  ]
}