{
  "comments": [
    {
      "key": {
        "uuid": "e6b4f617_fcf89b6c",
        "filename": "src/dawn_native/Buffer.cpp",
        "patchSetId": 40
      },
      "lineNbr": 438,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-08T09:53:01Z",
      "side": 1,
      "message": "Why do we skip calling DestroyImpl if the device is lost? We still need to free driver objects otherwise we\u0027ll be leaking a ton of CPU memory.",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4551873e_e079c2e6",
        "filename": "src/dawn_native/Buffer.cpp",
        "patchSetId": 40
      },
      "lineNbr": 438,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2020-01-08T20:15:35Z",
      "side": 1,
      "message": "because it\u0027s an access violation when it goes and gets the device\u0027s resources (like fenced deleter) which have been freed. i was running into this error while testing.",
      "parentUuid": "e6b4f617_fcf89b6c",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fd23da3_2c90af4f",
        "filename": "src/dawn_native/Buffer.cpp",
        "patchSetId": 40
      },
      "lineNbr": 438,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-14T18:44:55Z",
      "side": 1,
      "message": "Sorry for the really slow turnaround. That call to DestroyImpl should still happen so we free backend resources. Otherwise a leak will happen.\n\nCan we shuffle some things in the Vulkan backend between the destructor and  Destroy to fix this?",
      "parentUuid": "4551873e_e079c2e6",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e535eab4_af745cf3",
        "filename": "src/dawn_native/Buffer.cpp",
        "patchSetId": 40
      },
      "lineNbr": 438,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-14T18:45:31Z",
      "side": 1,
      "message": "Alternatively we can just remove this from this CL and fix the Vulkan backend in another CL where buffer destruction is tested.",
      "parentUuid": "5fd23da3_2c90af4f",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b287d93_75e400fc",
        "filename": "src/dawn_native/Buffer.cpp",
        "patchSetId": 40
      },
      "lineNbr": 438,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2020-01-14T19:29:44Z",
      "side": 1,
      "message": "Sounds good, I\u0027ll fix it when we have tests for buffer since it\u0027s hard to see where it fails now. Thanks!",
      "parentUuid": "e535eab4_af745cf3",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1cf2cd4_375e2dd6",
        "filename": "src/dawn_native/Device.cpp",
        "patchSetId": 40
      },
      "lineNbr": 165,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-08T09:53:01Z",
      "side": 1,
      "message": "This is duplicated with ValidateIsAlive. In the relevant comment thread I think the conclusion was that we\u0027d see about changing the ValidateObject validation later, if at all.",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9821b36_6a0b7795",
        "filename": "src/dawn_native/Device.cpp",
        "patchSetId": 40
      },
      "lineNbr": 165,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2020-01-08T20:15:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1cf2cd4_375e2dd6",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8073976_9e56e144",
        "filename": "src/dawn_native/Device.cpp",
        "patchSetId": 40
      },
      "lineNbr": 481,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-08T09:53:01Z",
      "side": 1,
      "message": "That\u0027s incorrect, the callback should always be called and it should be called with DeviceLoss status. Let\u0027s handle mapping in a different CL.",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ec939ca_97df38d6",
        "filename": "src/dawn_native/Device.cpp",
        "patchSetId": 40
      },
      "lineNbr": 481,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2020-01-08T20:15:35Z",
      "side": 1,
      "message": "ok i will remove all buffer tests for now.",
      "parentUuid": "f8073976_9e56e144",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2d93b0a_63ea32e1",
        "filename": "src/tests/end2end/DeviceLostTests.cpp",
        "patchSetId": 40
      },
      "lineNbr": 18,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-01-08T09:53:01Z",
      "side": 1,
      "message": "Standard library includes should be done after all other includes in another block:\n\n#include \u003cgmock/gmock.h\u003e\n#include \"utils/ComboRenderPipelineDescriptor.h\"\n#include \"utils/WGPUHelpers.h\"\n\n#include \u003ccstring\u003e",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09e38bae_f1ac5bbf",
        "filename": "src/tests/end2end/DeviceLostTests.cpp",
        "patchSetId": 40
      },
      "lineNbr": 18,
      "author": {
        "id": 1000308
      },
      "writtenOn": "2020-01-08T20:15:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e2d93b0a_63ea32e1",
      "revId": "c867e48055cab78f371a2cca60721fb8d9a3bbbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    }
  ]
}