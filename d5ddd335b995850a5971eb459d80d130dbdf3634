{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "dc6b3e2b_90a0a43a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000257
      },
      "writtenOn": "2024-02-20T14:58:06Z",
      "side": 1,
      "message": "PTAL. This is the dawn side of the tricium/clang-tidy change.",
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d3e2fe5_56252b95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003891
      },
      "writtenOn": "2024-02-20T15:01:19Z",
      "side": 1,
      "message": "I don\u0027t think I can review... I have no idea how any of this works.",
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3fd627c1_ddf8101a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000257
      },
      "writtenOn": "2024-02-20T15:04:08Z",
      "side": 1,
      "message": "PTAL. This was the dawn side of the clang-tidy/tricium change.",
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4689ba21_30b90a25",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1004536
      },
      "writtenOn": "2024-02-20T16:18:37Z",
      "side": 1,
      "message": "I\u0027ll defer to yiwzhang since this is new service usage",
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "beec2e66_0572bc07",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1002571
      },
      "writtenOn": "2024-02-20T19:08:01Z",
      "side": 1,
      "message": "Can you delete this and corresponding tricium-prod.cfg? I believe registering a cq_tryjob_verifier with ANALYZER_MODE is enough to generate tricium configuration.",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb6bc4fd_2ff0fda3",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-02-20T19:10:31Z",
      "side": 1,
      "message": "It didn\u0027t generate it with the clang-tidy section, only the tricium section? I was hoping to get both analyzers running. Was there something I needed to add as a cq_tryjob_verifier in order to get clang-tidy to show up as well?",
      "parentUuid": "beec2e66_0572bc07",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3370337e_7f6ae68c",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1002571
      },
      "writtenOn": "2024-02-20T19:18:54Z",
      "side": 1,
      "message": "oh I didn\u0027t notice that. Yes, adding another cq_tryjob_verifier for `tricium-clang-tidy` should just work. You can use location_filters to limit to files with certain extension ([example](https://screenshot.googleplex.com/6GVGZo2tjcxGr8k))",
      "parentUuid": "cb6bc4fd_2ff0fda3",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cec27c7_b5fce24a",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-02-20T20:05:34Z",
      "side": 1,
      "message": "This seems like I need to define a builder now? (Getting an error about undefined builder `tricium-clang-tidy`). The only example I can find is https://source.chromium.org/chromium/chromium/src/+/main:infra/config/subprojects/chromium/try/tryserver.chromium.tricium.star;l\u003d40?q\u003dtricium-clang-tidy\u0026ss\u003dchromium do any other projects integrate clang-tidy in this way?\n\nOr, do I need to copy the orchestrator code over from the tryserver star file?",
      "parentUuid": "3370337e_7f6ae68c",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac2aaf30_899264df",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1002571
      },
      "writtenOn": "2024-02-20T22:22:45Z",
      "side": 1,
      "message": "\u003e This seems like I need to define a builder now?\n\nNo, I don\u0027t think you\u0027d need to define the builder as the builder should have been defined in chromium project already. I believe adding the following cq_tryjob_verifier would just work.\n\n```\nluci.cq_tryjob_verifier(\n    cq_group \u003d \"Dawn-CQ\",\n    builder \u003d \"chromium:try/tricium-clang-tidy\",\n    owner_whitelist \u003d [\"project-dawn-tryjob-access\"],\n    location_filters \u003d [\n        cq.location_filter(path_regexp \u003d \".+\\\\.c\"),\n        cq.location_filter(path_regexp \u003d \".+\\\\.cc\"),\n        cq.location_filter(path_regexp \u003d \".+\\\\.cpp\"),\n        cq.location_filter(path_regexp \u003d \".+\\\\.h\"),\n    ],\n    mode_allowlist \u003d [cq.MODE_ANALYZER_RUN],\n)\n```",
      "parentUuid": "8cec27c7_b5fce24a",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d705ff36_1e1a2680",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1003216
      },
      "writtenOn": "2024-02-21T14:20:08Z",
      "side": 1,
      "message": "Ah, thank you, the `chromium:try/` was the part I was missing.",
      "parentUuid": "ac2aaf30_899264df",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 90,
        "endChar": 0
      },
      "revId": "d5ddd335b995850a5971eb459d80d130dbdf3634",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}