{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "de18419d_c5428fe6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "Looks great. I think you\u0027re missing handling of while loops",
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98428005_03743ab1",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 69,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "nit: `explicit` not needed",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 12
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "daa8b616_997476fc",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 69,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T14:12:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98428005_03743ab1",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 12
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14aa54d9_dbd77550",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 69,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98428005_03743ab1",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 12
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39c349de_b2ae5ef3",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "nit: This looks like a candidate for a helper method to split this monolithic `Switch` statement up a bit and improve readability.",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 112,
        "endChar": 21
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bfced845_3ccf3d11",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T14:12:19Z",
      "side": 1,
      "message": "I meant this little section of code, but what you\u0027ve done is also good.",
      "parentUuid": "39c349de_b2ae5ef3",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 112,
        "endChar": 21
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c84f8096_95c84a66",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Pulled this whole case out into a `ProcessBlock` helper.\n\nAlso pulled out the logic for checking if a function needs to be transformed so that we can share it with `ShouldRun`. This helped a little with some of the performance regressions that perfmon picked up in the next patch.",
      "parentUuid": "39c349de_b2ae5ef3",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 112,
        "endChar": 21
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14be902f_d3d28865",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 112,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T16:19:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c84f8096_95c84a66",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 112,
        "endChar": 21
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8331d324_730080b1",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 137,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "[`while` statement?](https://www.w3.org/TR/WGSL/#while-statement)",
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf1e182c_f0a7fbf9",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 137,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Done, although `while` loops are converted to `loop/continuing` in the SPIR-V backend (before this transform is run).",
      "parentUuid": "8331d324_730080b1",
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef1abf0f_bd4f4602",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 176,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "nit: `TINT_SCOPED_ASSIGNMENT(is_in_loop, true);` is a little less error prone.",
      "range": {
        "startLine": 176,
        "startChar": 16,
        "endLine": 176,
        "endChar": 36
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73a3bc2f_fca5b00c",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 176,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T14:12:19Z",
      "side": 1,
      "message": "I suggested a boolean, as you only ever compare zero or not zero.",
      "parentUuid": "ef1abf0f_bd4f4602",
      "range": {
        "startLine": 176,
        "startChar": 16,
        "endLine": 176,
        "endChar": 36
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4df4447_e7eaa8ec",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 176,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "We need to track the nesting depth though, otherwise we won\u0027t know when we\u0027re exiting the outermost loop construct versus exiting a nested loop.",
      "parentUuid": "ef1abf0f_bd4f4602",
      "range": {
        "startLine": 176,
        "startChar": 16,
        "endLine": 176,
        "endChar": 36
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72dce283_5c38632f",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 176,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:50:45Z",
      "side": 1,
      "message": "If you\u0027d prefer, I could just use the `FindFirstParent` helper that we have in Sem to figure out if we\u0027re in a loop/switch or not, rather than tracking it like this.",
      "parentUuid": "f4df4447_e7eaa8ec",
      "range": {
        "startLine": 176,
        "startChar": 16,
        "endLine": 176,
        "endChar": 36
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5f584c3a_bf13506d",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 176,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T16:19:39Z",
      "side": 1,
      "message": "\u003e We need to track the nesting depth though, otherwise we won\u0027t know when we\u0027re exiting the outermost loop construct versus exiting a nested loop.\n\nI think I\u0027m missing something. `TINT_SCOPED_ASSIGNMENT` restores the old value on scope exit, not `false`.\n\nCould use sem info, but that\u0027s a bit more expensive than what you have right now.",
      "parentUuid": "72dce283_5c38632f",
      "range": {
        "startLine": 176,
        "startChar": 16,
        "endLine": 176,
        "endChar": 36
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "060e0fdc_f1af7b72",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 190,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "übernit: could be reduced to `3`.",
      "range": {
        "startLine": 190,
        "startChar": 53,
        "endLine": 190,
        "endChar": 54
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d97643d3_375a0400",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 190,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T14:12:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "060e0fdc_f1af7b72",
      "range": {
        "startLine": 190,
        "startChar": 53,
        "endLine": 190,
        "endChar": 54
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73e88c63_2d8e6570",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 190,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "060e0fdc_f1af7b72",
      "range": {
        "startLine": 190,
        "startChar": 53,
        "endLine": 190,
        "endChar": 54
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a64195d2_46f763c6",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 201,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "nit: `std::move`",
      "range": {
        "startLine": 201,
        "startChar": 39,
        "endLine": 201,
        "endChar": 44
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec10b11e_8f72a2fa",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 201,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T14:12:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a64195d2_46f763c6",
      "range": {
        "startLine": 201,
        "startChar": 39,
        "endLine": 201,
        "endChar": 44
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9af30915_91f235ff",
        "filename": "src/tint/transform/merge_return.cc",
        "patchSetId": 9
      },
      "lineNbr": 201,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a64195d2_46f763c6",
      "range": {
        "startLine": 201,
        "startChar": 39,
        "endLine": 201,
        "endChar": 44
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e44dc910_f1adf316",
        "filename": "src/tint/transform/merge_return_test.cc",
        "patchSetId": 9
      },
      "lineNbr": 698,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2022-10-27T11:03:16Z",
      "side": 1,
      "message": "I believe this needs to be `break if i \u003d\u003d 7;`",
      "range": {
        "startLine": 696,
        "startChar": 14,
        "endLine": 698,
        "endChar": 15
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f801456_fbad37f1",
        "filename": "src/tint/transform/merge_return_test.cc",
        "patchSetId": 9
      },
      "lineNbr": 698,
      "author": {
        "id": 1002241
      },
      "writtenOn": "2022-10-27T15:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e44dc910_f1adf316",
      "range": {
        "startLine": 696,
        "startChar": 14,
        "endLine": 698,
        "endChar": 15
      },
      "revId": "889c1f76bb7a257f03adfa9747e85f1e266f2345",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}