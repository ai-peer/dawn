{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "832d51df_47db1b7f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-10-29T05:28:57Z",
      "side": 1,
      "message": "PTAL. Thanks!",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f4f6dce9_0f326a06",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "LGTM",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da5395b5_5767a95a",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 68,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "[1]",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da3dddf8_56dc830c",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 68,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "Are you saying STENCIL_READ? There is no STENCIL_READ. I guess stencil-only texture view will reuse DEPTH_READ.",
      "parentUuid": "da5395b5_5767a95a",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c0d1ef4_e83a90f6",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 68,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-11-02T08:51:19Z",
      "side": 1,
      "message": "Ack, then it seems this CL implements both depth and stencil readonly in D3D12, but only tests one for now. LGTM assuming there\u0027s a follow-up CL with a test for stencil-readonly.\n\nCan we have a comment that there is not STENCIL_READ state and that it is bundled with DEPTH_READ?",
      "parentUuid": "da3dddf8_56dc830c",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "505b0ce3_5d2312b4",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 68,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-02T19:07:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c0d1ef4_e83a90f6",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1b45215_63868d73",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 958,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "nit: Maybe we could ASSERT(IsSubset(readOnlyAspects, aspects)) so we don\u0027t need to check for \u0026\u0026 aspects \u0026 Aspect::Depth/Stencil",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6572ae7_8b5a9e06",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 958,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-10-29T17:00:04Z",
      "side": 1,
      "message": "I think? it can\u0027t be an ASSERT because the render pass descriptor can say depthReadOnly but bind a stencil texture and I think that is supposed to be valid.\nwhich is kinda confusing and why there\u0027s https://github.com/gpuweb/gpuweb/issues/2131 about having some state that means its not used or doesn\u0027t exist.",
      "parentUuid": "c1b45215_63868d73",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8975ce1a_ce349df2",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 958,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T17:02:25Z",
      "side": 1,
      "message": "Gotcha, we can do the fix in the frontend, or \u0026 the two aspects before the conditions.",
      "parentUuid": "d6572ae7_8b5a9e06",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2b68b89_50b6adbd",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 958,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "Yeah. Agreed with Austin. According to current WebGPU spec, if depthReadOnly is true, aspect \u0026 aspect::Depth can be true of false (either one is valid). So we can\u0027t ASSERT here [2].\n\nI actually added a TODO for more validation test about this when I wrote this code snippet, here it is: https://dawn-review.googlesource.com/c/dawn/+/67962.",
      "parentUuid": "8975ce1a_ce349df2",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c96b8cc_1d716901",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 961,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "This seems like it is part of the implementation of readOnlyStencil, maybe we could add the logic at [1] for stencil too then.",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "019ced6d_64e55551",
        "filename": "src/dawn_native/d3d12/TextureD3D12.cpp",
        "patchSetId": 3
      },
      "lineNbr": 961,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "See the comment at [1]. If I understood your suggestion correctly. We don\u0027t need to add the logic at [1]. But I will verify it when I implement stencilReadOnly on D3D12.",
      "parentUuid": "4c96b8cc_1d716901",
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc1376c0_de154a59",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "nit: defaults make the code less obvious when it only helps for a couple callers of the function.",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 69,
        "endChar": 83
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbd56ca5_0c4d7f8c",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 69,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dc1376c0_de154a59",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 69,
        "endChar": 83
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50eafc20_6f53f5e4",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "nit: Maybe we can bundle both with Aspect readonlyAspects.",
      "range": {
        "startLine": 154,
        "startChar": 55,
        "endLine": 155,
        "endChar": 75
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "927d2630_0320c879",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "See the discussion below at [2]. Maybe we don\u0027t (cannot) need to do this?",
      "parentUuid": "50eafc20_6f53f5e4",
      "range": {
        "startLine": 154,
        "startChar": 55,
        "endLine": 155,
        "endChar": 75
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62fab339_a1b3b8f1",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-11-02T08:51:19Z",
      "side": 1,
      "message": "I think the frontend could do the translation from two bools to a single aspect mask. I have a very slight aesthetic preference for that, but have two bools is ok too.",
      "parentUuid": "927d2630_0320c879",
      "range": {
        "startLine": 154,
        "startChar": 55,
        "endLine": 155,
        "endChar": 75
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "500a40e4_69809c7a",
        "filename": "src/dawn_native/d3d12/TextureD3D12.h",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-02T19:07:58Z",
      "side": 1,
      "message": "Yeah. Two bools here are simple. I will see whether it is simple enough if we do it at frontend in next CL. Maybe we can record the render pass\u0027s depthStencilAttachment\u0027s depth/stencilReadOnly to REAL depth/stencilReadOnly (only if the view does have the aspect) when we read that info from RenderPassDescriptor at frontend.",
      "parentUuid": "62fab339_a1b3b8f1",
      "range": {
        "startLine": 154,
        "startChar": 55,
        "endLine": 155,
        "endChar": 75
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c303fe63_826667d4",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-10-29T17:00:04Z",
      "side": 1,
      "message": "nit: not needed if it just calls the base class",
      "range": {
        "startLine": 25,
        "startChar": 4,
        "endLine": 27,
        "endChar": 5
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88ae5484_a2854c08",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "Thanks for your suggestion about parameterization, Austin. I added the formats, not 100% sure it is what you suggested, though.",
      "parentUuid": "c303fe63_826667d4",
      "range": {
        "startLine": 25,
        "startChar": 4,
        "endLine": 27,
        "endChar": 5
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "481c598b_d90f2693",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-02T19:07:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88ae5484_a2854c08",
      "range": {
        "startLine": 25,
        "startChar": 4,
        "endLine": 27,
        "endChar": 5
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d90b408_f6769795",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "I think we\u0027ll want to test with varying formats here because to make sure our selection of aspects is correct.",
      "range": {
        "startLine": 77,
        "startChar": 12,
        "endLine": 77,
        "endChar": 19
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ca49d5e_41b77b9a",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-10-29T17:00:04Z",
      "side": 1,
      "message": "(please see tests that use DAWN_INSTANTIATE_TEST_P as an example of parameterization\nhttps://source.chromium.org/search?q\u003dDAWN_INSTANTIATE_TEST_P%20f:dawn%2Fsrc%2Ftests\u0026sq\u003d\u0026ss\u003dchromium%2Fchromium%2Fsrc)",
      "parentUuid": "7d90b408_f6769795",
      "range": {
        "startLine": 77,
        "startChar": 12,
        "endLine": 77,
        "endChar": 19
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "14e2d0f6_b7ce4f43",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-02T19:07:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ca49d5e_41b77b9a",
      "range": {
        "startLine": 77,
        "startChar": 12,
        "endLine": 77,
        "endChar": 19
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b189b2d_bd443511",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-10-29T09:27:43Z",
      "side": 1,
      "message": "nit: bottom",
      "range": {
        "startLine": 124,
        "startChar": 11,
        "endLine": 124,
        "endChar": 18
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a71baad_1006d43f",
        "filename": "src/tests/end2end/ReadOnlyDepthStencilAttachmentTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 124,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2021-11-01T15:44:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b189b2d_bd443511",
      "range": {
        "startLine": 124,
        "startChar": 11,
        "endLine": 124,
        "endChar": 18
      },
      "revId": "0ae9cd4dbb6a390f8c069d1e0fa084db137ebaab",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}