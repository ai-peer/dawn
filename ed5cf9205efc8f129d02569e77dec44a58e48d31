{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d245a8fb_e673c217",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "I think this is does the same thing, but is a bit easier to read:\n\n```\nauto\u0026 info \u003d switch_infos.GetOrCreate(switch_stmt, [\u0026] {\n    switch_stmts.Push(switch_stmt);\n    auto* block \u003d sem.Get(switch_stmt)-\u003eFindFirstParent\u003csem::LoopBlockStatement\u003e();\n    return SwitchInfo{/* loop_block */ block, /* continues */ Empty};\n});\ninfo.continues.Push(cont);\n```",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 64,
        "endChar": 39
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9dc1f916_943299d6",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T19:51:19Z",
      "side": 1,
      "message": "Yeah, actually this was how it looked originally (mostly), but I changed to using `.Add` at one point in order to add the `SwitchInfo*` to a Vector of them. But then I realized that these were getting invalidated, so I am now just adding a Vector of `SwitchStatements` and looking them up again in the map later. Will change back to `GetOrCreate`.",
      "parentUuid": "d245a8fb_e673c217",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 64,
        "endChar": 39
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8d93874_6bb1f233",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9dc1f916_943299d6",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 64,
        "endChar": 39
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fc8896b_3a890c2b",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "nit: no block is emitted, right? (drop `{` and `}`)",
      "range": {
        "startLine": 74,
        "startChar": 39,
        "endLine": 74,
        "endChar": 71
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd0faa23_28dd55c8",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2fc8896b_3a890c2b",
      "range": {
        "startLine": 74,
        "startChar": 39,
        "endLine": 74,
        "endChar": 71
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa57a315_98a8eb5f",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 96,
        "startChar": 45,
        "endLine": 96,
        "endChar": 77
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e372fe7c_68076b5c",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aa57a315_98a8eb5f",
      "range": {
        "startLine": 96,
        "startChar": 45,
        "endLine": 96,
        "endChar": 77
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec1fb354_3aba1b4b",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "`continue` can\u0027t be in a for loop or used as a direct if-else statement, so I don\u0027t think this is necessary. I think you can use:\n`ctx.InsertAfter(sem.Get(c)-\u003eBlock()-\u003eDeclaration()-\u003estatements, c, b.Break());`",
      "range": {
        "startLine": 98,
        "startChar": 16,
        "endLine": 98,
        "endChar": 75
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0026eed5_436ef83f",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T19:51:19Z",
      "side": 1,
      "message": "Good point, that\u0027ll clean this up.",
      "parentUuid": "ec1fb354_3aba1b4b",
      "range": {
        "startLine": 98,
        "startChar": 16,
        "endLine": 98,
        "endChar": 75
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f96550f_e6ba111b",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0026eed5_436ef83f",
      "range": {
        "startLine": 98,
        "startChar": 16,
        "endLine": 98,
        "endChar": 75
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e30347ad_840fc845",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1002421
      },
      "writtenOn": "2023-09-12T19:44:37Z",
      "side": 1,
      "message": "Likewise: `ctx.InsertAfter(sw-\u003eBlock()-\u003eDeclaration()-\u003estatements, curr_switch, if_stmt);`\n\nWhere `sw` is defined as `auto* sw \u003d sem.Get(curr_switch);` (can also be used at L106)",
      "range": {
        "startLine": 117,
        "startChar": 20,
        "endLine": 117,
        "endChar": 93
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "803cfb58_60b80be9",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch.cc",
        "patchSetId": 3
      },
      "lineNbr": 117,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e30347ad_840fc845",
      "range": {
        "startLine": 117,
        "startChar": 20,
        "endLine": 117,
        "endChar": 93
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37eb7efb_d01a8334",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2023-09-12T19:44:56Z",
      "side": 1,
      "message": "This is a bit unusual. Please can we have a second case that is just `{ continue; }` ?",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 119,
        "endChar": 14
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8bf5fd6_1118def7",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T19:51:19Z",
      "side": 1,
      "message": "Yeah, I wanted to remove these, but if you think it\u0027s useful to have both, I can do that.",
      "parentUuid": "37eb7efb_d01a8334",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 119,
        "endChar": 14
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b11266b8_953d6413",
        "filename": "src/tint/lang/hlsl/writer/ast_raise/remove_continue_in_switch_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 119,
      "author": {
        "id": 1002361
      },
      "writtenOn": "2023-09-12T20:45:19Z",
      "side": 1,
      "message": "Done. Just decided to remove all the `break`s after `continue`s as it\u0027s just weird and detracts from what these tests are trying to show.",
      "parentUuid": "d8bf5fd6_1118def7",
      "range": {
        "startLine": 119,
        "startChar": 0,
        "endLine": 119,
        "endChar": 14
      },
      "revId": "ed5cf9205efc8f129d02569e77dec44a58e48d31",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}