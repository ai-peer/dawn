{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ae0c499a_758f43af",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T16:13:14Z",
      "side": 1,
      "message": "A tryjob verifier needs to be added for the branch CQ groups in order to have these builders run on the branch CLs",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 352,
        "endChar": 9
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97c1b088_c29b81fa",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T17:41:29Z",
      "side": 1,
      "message": "I don\u0027t think we intended to run any of these builders on branch CLs? The builders that use `dawn_standalone_builder` are:\n\n```\nlinux-clang-dbg-x64\nlinux-clang-dbg-x86\nlinux-clang-rel-x64\nlinux-clang-rel-x86\nmac-dbg\nmac-rel\nwin-clang-dbg-x64\nwin-clang-dbg-x86\nwin-clang-rel-x64\nwin-clang-rel-x86\nwin-msvc-dbg-x64\nwin-msvc-rel-x64\ncron-linux-clang-rel-x64\n```",
      "parentUuid": "ae0c499a_758f43af",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 352,
        "endChar": 9
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc57d7f8_8bb2f89d",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T18:02:39Z",
      "side": 1,
      "message": "Well, the current behavior is that all refs run all of the same builders. IIUC the only problematic builders on the branches are the builders in the chromium project, so I would expect that the dawn builders should continue to be run on the branches.",
      "parentUuid": "97c1b088_c29b81fa",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 352,
        "endChar": 9
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd8a180b_80ad06fc",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T21:48:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dc57d7f8_8bb2f89d",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 352,
        "endChar": 9
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f57816cc_1e0b36ff",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T16:13:14Z",
      "side": 1,
      "message": "If string name are going to be built programatically, then this map seems unnecessarily complicated, this can just be `details.project + \":try/dawn-\" + os + \"-x64-deps-rel\"`",
      "range": {
        "startLine": 376,
        "startChar": 22,
        "endLine": 376,
        "endChar": 93
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bf04e8d_9e9fa061",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T17:41:29Z",
      "side": 1,
      "message": "It will still be necessary for Windows since the given OS is `win`, but the builder name uses `win10`. If preferable, we could leave only Windows in there for now and do `_os_to_branch_config.get(os, os)`",
      "parentUuid": "f57816cc_1e0b36ff",
      "range": {
        "startLine": 376,
        "startChar": 22,
        "endLine": 376,
        "endChar": 93
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78449b81_729c55aa",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T18:02:39Z",
      "side": 1,
      "message": "Ah, I missed that difference.\n\nI generally recommend against building up names because it makes it harder for someone to search for where a piece of configuration comes from. Since there needs to be a map anyways, my recommendation is put the entire name in the map instead:\n```\n_os_to_branch_builder \u003d {\n  \"linux\": \"dawn-linux-x64-deps-rel\",\n  \"mac\": \"dawn-mac-x64-deps-rel\",\n  \"win\": \"dawn-win10-x64-deps-rel\",\n}\n```\n\n```\nbuilder \u003d details.project + \":try/\" + _os_to_branch_builder[os]\n```\n\nor my preference since it makes the actual format of the string easier to see in my opinion:\n```\nbuilder \u003d \"{}:try/{}\".format(details.project, _os_to_branch_builder[os])\n```",
      "parentUuid": "7bf04e8d_9e9fa061",
      "range": {
        "startLine": 376,
        "startChar": 22,
        "endLine": 376,
        "endChar": 93
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e90b5857_15b29a1a",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1000277
      },
      "writtenOn": "2023-05-10T19:21:03Z",
      "side": 1,
      "message": "+1 for having full builder names here.\nI often grep the sources for these.",
      "parentUuid": "78449b81_729c55aa",
      "range": {
        "startLine": 376,
        "startChar": 22,
        "endLine": 376,
        "endChar": 93
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc93b662_2ef2c2ae",
        "filename": "infra/config/global/main.star",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T21:48:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e90b5857_15b29a1a",
      "range": {
        "startLine": 376,
        "startChar": 22,
        "endLine": 376,
        "endChar": 93
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22e07a03_d1cdf1ec",
        "filename": "infra/config/global/milestones.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T16:13:14Z",
      "side": 1,
      "message": "There\u0027s no need to populate this with the chromium ref, it would make sense to just populate this with the dawn ref.",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 39
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40df8ab9_3ef1a6bc",
        "filename": "infra/config/global/milestones.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T17:41:29Z",
      "side": 1,
      "message": "My thinking was that by keeping it the Chromium ref, we can re-use `milestones.py` without special casing Dawn https://source.chromium.org/chromium/chromium/src/+/main:infra/config/scripts/milestones.py\n\nWould that be reasonable, or are we going to have a Dawn version of the script anyways?",
      "parentUuid": "22e07a03_d1cdf1ec",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 39
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73f98dab_fc47ef5c",
        "filename": "infra/config/global/milestones.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T18:02:39Z",
      "side": 1,
      "message": "No, there should be some script in the dawn repo that can manipulate this. There\u0027s no reason that the format of this milestones.json should be coupled to the format of milestones.json in chromium/src.",
      "parentUuid": "40df8ab9_3ef1a6bc",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 39
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c142da9b_ff476641",
        "filename": "infra/config/global/milestones.json",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T21:48:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73f98dab_fc47ef5c",
      "range": {
        "startLine": 5,
        "startChar": 15,
        "endLine": 5,
        "endChar": 39
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd4bd6a4_3d2cf181",
        "filename": "infra/config/global/project.star",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T16:13:14Z",
      "side": 1,
      "message": "I recommend making this chromium_project in here and the json.",
      "range": {
        "startLine": 7,
        "startChar": 26,
        "endLine": 7,
        "endChar": 33
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1abd3199_fe4ea4ba",
        "filename": "infra/config/global/project.star",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T17:41:29Z",
      "side": 1,
      "message": "Made the change in the Starlark files, but holding off on changing the JSON until you reply about reusing `milestones.py`.",
      "parentUuid": "bd4bd6a4_3d2cf181",
      "range": {
        "startLine": 7,
        "startChar": 26,
        "endLine": 7,
        "endChar": 33
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48bfa0be_5b48d78c",
        "filename": "infra/config/global/project.star",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T21:48:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1abd3199_fe4ea4ba",
      "range": {
        "startLine": 7,
        "startChar": 26,
        "endLine": 7,
        "endChar": 33
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4562013_5d63e03f",
        "filename": "infra/config/global/project.star",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1003631
      },
      "writtenOn": "2023-05-10T16:13:14Z",
      "side": 1,
      "message": "chromium/XXXX is a branch name, the actual ref is refs/heads/chromium/XXXX and that\u0027s what needs to go into the CQ group configuration.",
      "range": {
        "startLine": 20,
        "startChar": 18,
        "endLine": 20,
        "endChar": 44
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d078b44a_e261c137",
        "filename": "infra/config/global/project.star",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1000193
      },
      "writtenOn": "2023-05-10T17:41:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4562013_5d63e03f",
      "range": {
        "startLine": 20,
        "startChar": 18,
        "endLine": 20,
        "endChar": 44
      },
      "revId": "5cfd472c22b956db8039820cf0cf1efe4c3f155d",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}