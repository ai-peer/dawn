{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d201c8cc_32859313",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2021-01-25T21:12:22Z",
      "side": 1,
      "message": "PTAL. I\u0027m not sure this is the right thing to do, but if we do need these calls it\u0027ll need WebGPU-compat validation or a workaround on ES.",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71a3733f_ad6776d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-01-26T01:32:14Z",
      "side": 1,
      "message": "I think it is available in ES 3.0 but not ES 2.0. So, I think we should be able to support this for what WebGPU compat is targeting. Same applies for GL_UNPACK_IMAGE_HEIGHT, I think.\n\nAs a workaround though, we could do multiple calls to glReadPixels for each layer if the stride is different from the image stride.",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07364c5b_b2964008",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-26T08:39:33Z",
      "side": 1,
      "message": "+1, also how does this make no test fail?",
      "parentUuid": "71a3733f_ad6776d5",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e2033e1_3a067537",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2021-01-26T12:50:55Z",
      "side": 1,
      "message": "According to https://www.khronos.org/registry/OpenGL-Refpages/es3.0/html/glPixelStorei.xhtml, it doesn\u0027t exist in any version of ES (although GL_UNPACK_IMAGE_HEIGHT does).\n\nMy understanding is that it\u0027s only required when reading back multiple images from a 3D texture where you want padding between the images, in the same way that GL_PACK_ROW_LENGTH allows you to specify padding between rows. If left unspecified, it defaults to the height of the readback (no padding). If it\u0027s possible to specify such padding in WebGPU, presumably we could do multiple readbacks of single images to apply the padding.\n\nEven if you can, however, the OpenGL backend right only seems to support 2D texture readback.",
      "parentUuid": "07364c5b_b2964008",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9f0cfe5_c03bbc98",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-26T13:00:46Z",
      "side": 1,
      "message": "Dawn only has 2D / 2D array texture for now, but we should still have tests that fail on this. Can you add a test that would require GL_PACK_IMAGE_HEIGHT in CopyTests_T2B and B2T?",
      "parentUuid": "3e2033e1_3a067537",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcbc01da_bba25e10",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2021-01-28T18:29:57Z",
      "side": 1,
      "message": "OK, so it looks like CopyTests_T2B.Texture2DArrayRegionNonzeroRowsPerImage already covers this case. And the reason it passes is that the OpenGL backend already does multiple readbacks, one per layer, skipping the image height. So it never does a continugous readback which would require GL_PACK_IMAGE_HEIGHT to be set.",
      "parentUuid": "d9f0cfe5_c03bbc98",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c42f02f1_1bd9ccf1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-28T18:33:58Z",
      "side": 1,
      "message": "Yay!",
      "revId": "d746c2aa887a1cb2388e1de329217e730b10e09c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}