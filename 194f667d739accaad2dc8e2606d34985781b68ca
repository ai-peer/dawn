{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "55b11c47_2409b593",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-01-08T03:50:05Z",
      "side": 1,
      "message": "What do you think?\n\nMy thinking is that you can drop the instance and everything is ok. It stays alive until all devices are gone.\n\nBut if you drop the device, then we nullify all of the device children.",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa407772_7f454bc0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-08T09:05:56Z",
      "side": 1,
      "message": "LGTM",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84bc5a6d_bc8ce7d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-08T09:06:28Z",
      "side": 1,
      "message": "Actually can we have a small test that creates an instance then a device, and checks you can drop everything but the device and operations don\u0027t crash?",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbe6fa93_7e3625d2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-01-12T02:41:11Z",
      "side": 1,
      "message": "Now that I\u0027ve written the test, I\u0027m not sure this is the right semantic.\n\nASSUMING deviceTick becomes wgpuInstanceProcessEvents, you can never get the callback results once you drop the instance. So either we disallow enqueuing callbacks after you drop the instance, or we keep deviceTick, or we disallow dropping the instance before the device.",
      "parentUuid": "84bc5a6d_bc8ce7d1",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c534861f_f80d5bdc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-01-12T10:46:47Z",
      "side": 1,
      "message": "Or it will just incentivize the application to keep the instance around, but supports destroying things in any order.",
      "parentUuid": "fbe6fa93_7e3625d2",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78e8e03b_1659ce1c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-01-12T23:13:56Z",
      "side": 1,
      "message": "I suppose it\u0027s fine for now then. Now that we have device.destroy() we can try to clarify all the lifetime stuff with DM.",
      "parentUuid": "c534861f_f80d5bdc",
      "revId": "194f667d739accaad2dc8e2606d34985781b68ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}