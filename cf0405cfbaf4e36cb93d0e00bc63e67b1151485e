{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cc56c553_c29e8b4b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-15T18:28:57Z",
      "side": 1,
      "message": "Thanks, @CW.",
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c60b4232_dad1ac9f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "Thanks, @RC for the pass.",
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "070e140f_1c5db265",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.cpp",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Since Flush11On12DeviceToAvoidLeaks does not take a reference on the d3d11on12Device, you can pass a naked pointer or std::move the last reference to this parameter from the caller.",
      "range": {
        "startLine": 26,
        "startChar": 39,
        "endLine": 26,
        "endChar": 79
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67427ce5_3a3043dd",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.cpp",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "070e140f_1c5db265",
      "range": {
        "startLine": 26,
        "startChar": 39,
        "endLine": 26,
        "endChar": 79
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc549e44_da0fa812",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 54,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Caching the 11on12Device is not necessary. You can get the device by calling the GetDevice method on the ID3D11Resource pointer. The method is on its baseclass ID3D11DeviceChild interface.",
      "range": {
        "startLine": 54,
        "startChar": 33,
        "endLine": 54,
        "endChar": 49
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7c97557_b512fdd0",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 54,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "If I did that I would have to QI each entry lookup or import which seemed excessive.",
      "parentUuid": "dc549e44_da0fa812",
      "range": {
        "startLine": 54,
        "startChar": 33,
        "endLine": 54,
        "endChar": 49
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b70d2d6_8212f8a0",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 54,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-20T20:25:47Z",
      "side": 1,
      "message": "Fair enough. I\u0027ll close this one out.",
      "parentUuid": "b7c97557_b512fdd0",
      "range": {
        "startLine": 54,
        "startChar": 33,
        "endLine": 54,
        "endChar": 49
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18b16954_6d9b4d68",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 60,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Nit: Extra space.",
      "range": {
        "startLine": 60,
        "startChar": 69,
        "endLine": 60,
        "endChar": 70
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed0f48c7_c4706e76",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 60,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18b16954_6d9b4d68",
      "range": {
        "startLine": 60,
        "startChar": 69,
        "endLine": 60,
        "endChar": 70
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93026663_459979d3",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 76,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Does this unordered set support storing D3D11on12ResourceCacheEntry structures directly instead of resorting to unique pointers? Would help with locality of reference.",
      "range": {
        "startLine": 76,
        "startChar": 22,
        "endLine": 76,
        "endChar": 40
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7383f8fe_f43e0aaa",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 76,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "Nope, unordered_set have read only keys.",
      "parentUuid": "93026663_459979d3",
      "range": {
        "startLine": 76,
        "startChar": 22,
        "endLine": 76,
        "endChar": 40
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34e88ea6_92a974ff",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 76,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-20T20:25:47Z",
      "side": 1,
      "message": "Does read-only keys mean you must use single pointers as the key? Why can\u0027t you use a structure who\u0027s members never change value?",
      "parentUuid": "7383f8fe_f43e0aaa",
      "range": {
        "startLine": 76,
        "startChar": 22,
        "endLine": 76,
        "endChar": 40
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ab56ce0_9a80f14d",
        "filename": "src/dawn_native/d3d12/D3D11on12Util.h",
        "patchSetId": 20
      },
      "lineNbr": 76,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-20T20:56:16Z",
      "side": 1,
      "message": "Ahhh, gotcha. Done.",
      "parentUuid": "34e88ea6_92a974ff",
      "range": {
        "startLine": 76,
        "startChar": 22,
        "endLine": 76,
        "endChar": 40
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68fe054e_ed3a9569",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Since we\u0027re not making the cache on demand, consider storing the cache as a direct member variable instead of a pointer allocated on the heap.",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6f87d75_dbbb4df6",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "I use unique_ptr to avoid importing D3D11on12Util.h (aka PImpl).",
      "parentUuid": "68fe054e_ed3a9569",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6e201eb_b6362b4c",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-20T20:25:47Z",
      "side": 1,
      "message": "Not sure I follow. This file #includes D3D11on12Util.h as part of your change. What other \"importing\" are you referring to?",
      "parentUuid": "c6f87d75_dbbb4df6",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba31dff6_cae990e1",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-20T20:56:16Z",
      "side": 1,
      "message": "Making mD3D11on12ResourceCache be a direct member of ExternalImageDXGI means ExternalImageDXGI.h needs the full definition or #include D3D11on12Util.h.",
      "parentUuid": "f6e201eb_b6362b4c",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57fc6244_7518d997",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-07-21T09:09:13Z",
      "side": 1,
      "message": "And this would make all users of D3D12Backend.h which is a public API, be aware of a lot of implementation details of Dawn, including internal headers etc. So we use PIMPL to keep the strong boundary between Dawn internal code and Dawn users.",
      "parentUuid": "ba31dff6_cae990e1",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "503dead6_79d716ba",
        "filename": "src/dawn_native/d3d12/D3D12Backend.cpp",
        "patchSetId": 20
      },
      "lineNbr": 67,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-21T18:09:03Z",
      "side": 1,
      "message": "Bryan, thank you for the explanation. I understand now and agree with Corentin. \nWill resolve.",
      "parentUuid": "57fc6244_7518d997",
      "range": {
        "startLine": 67,
        "startChar": 34,
        "endLine": 67,
        "endChar": 77
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92d655ef_23b4db05",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 479,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "Returning just a nullptr here makes us lose error information compared to what we had previously. Can we put this back both here and in the QueryInterface call below?",
      "range": {
        "startLine": 479,
        "startChar": 16,
        "endLine": 479,
        "endChar": 31
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52d9dc34_6aa87959",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 479,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "If you prefer, I can assert the QI. The 11on12 error was moved to the caller (not lost) and if successful, the QI should not fail.",
      "parentUuid": "92d655ef_23b4db05",
      "range": {
        "startLine": 479,
        "startChar": 16,
        "endLine": 479,
        "endChar": 31
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12c108e6_0c846d78",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 479,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-20T20:25:47Z",
      "side": 1,
      "message": "I agree the QI should not fail. Too bad Chromium code doesn\u0027t elect to fail-fast for these conditions. I\u0027ve generally taken a \"When in Rome, do as the Romans\" for these types of cases and handle every single error gracefully. I think an assert is fine for the QI.  \n\nAs for the device creation, is there a reason we can\u0027t do ResultOrError here like we used to in the code you\u0027re replacing? I prefer this way since the error string is as close to the point of failure as possible.",
      "parentUuid": "52d9dc34_6aa87959",
      "range": {
        "startLine": 479,
        "startChar": 16,
        "endLine": 479,
        "endChar": 31
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "addd56cf_9c29e723",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 479,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-20T20:56:16Z",
      "side": 1,
      "message": "Yes, couldn\u0027t figure out how to get ComPtr to work with ResultOrError (see [1]).",
      "parentUuid": "12c108e6_0c846d78",
      "range": {
        "startLine": 479,
        "startChar": 16,
        "endLine": 479,
        "endChar": 31
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03982f7c_92c6ecf5",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 479,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-22T17:20:58Z",
      "side": 1,
      "message": "Marking resolved. Feel free to re-open if you have a suggestion.",
      "parentUuid": "addd56cf_9c29e723",
      "range": {
        "startLine": 479,
        "startChar": 16,
        "endLine": 479,
        "endChar": 31
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04f11cdb_e32b10c5",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 604,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2021-07-16T17:01:11Z",
      "side": 1,
      "message": "If shared image destruction already flushes to avoid leaks, why do we need to it here as well?  (Please add a comment which describes the reason)",
      "range": {
        "startLine": 604,
        "startChar": 1,
        "endLine": 604,
        "endChar": 56
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "746a5fc4_1a07fbc3",
        "filename": "src/dawn_native/d3d12/DeviceD3D12.cpp",
        "patchSetId": 20
      },
      "lineNbr": 604,
      "author": {
        "id": 1000268
      },
      "writtenOn": "2021-07-16T17:41:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04f11cdb_e32b10c5",
      "range": {
        "startLine": 604,
        "startChar": 1,
        "endLine": 604,
        "endChar": 56
      },
      "revId": "cf0405cfbaf4e36cb93d0e00bc63e67b1151485e",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}