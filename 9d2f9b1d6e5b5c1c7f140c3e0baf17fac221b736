{
  "comments": [
    {
      "key": {
        "uuid": "25e0cb69_509a00db",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 55,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-04-22T09:23:56Z",
      "side": 1,
      "message": "nit: This can likely be removed in favor of the more general template below.",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f14a1c5d_c566cd2e",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 55,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-04-22T20:19:44Z",
      "side": 1,
      "message": "Unfortunately, we need to have both copies. If I remove the Ref\u003cT\u003e version, the compiler creates a default copy constructor which just assigns mPointee and doesn\u0027t call `Reference`. Calling `Reference` is, of course, needed for correctness.",
      "parentUuid": "25e0cb69_509a00db",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ee8974c_b22acb61",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 64,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-04-22T09:23:56Z",
      "side": 1,
      "message": "ditto, maybe it\u0027s ok to lose the early return.",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec386a76_f9074ca2",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 64,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-04-22T20:19:44Z",
      "side": 1,
      "message": "Unfortunately, we need to have both the Ref\u003cT\u003e assignment operator and the Ref\u003cU\u003e one. If I remove the Ref\u003cT\u003e one, then the compiler makes a default assignment operator which just copies the pointers and doesn\u0027t addref.",
      "parentUuid": "1ee8974c_b22acb61",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf2b650d_93d3a83a",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 93,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-04-22T09:23:56Z",
      "side": 1,
      "message": "ditto",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c97f13c9_1734fed5",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 93,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-04-22T20:19:44Z",
      "side": 1,
      "message": "I need both a Ref\u003cT\u003e and Ref\u003cU\u003e move assignment because the if check is necessary (in the Ref\u003cT\u003e version) to prevent accidentally releasing the object out from under itself.\n\nIn the latest patch, I added a test to ensure the if check is not accidentally removed in the future.",
      "parentUuid": "cf2b650d_93d3a83a",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6fe38a9_2f60ac7b",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 115,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-04-22T09:23:56Z",
      "side": 1,
      "message": "nit: Maybe group with the constexpr constructor from nullptr?",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2be7bd9_eec54972",
        "filename": "src/common/RefCounted.h",
        "patchSetId": 6
      },
      "lineNbr": 115,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-04-22T20:19:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6fe38a9_2f60ac7b",
      "revId": "9d2f9b1d6e5b5c1c7f140c3e0baf17fac221b736",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    }
  ]
}