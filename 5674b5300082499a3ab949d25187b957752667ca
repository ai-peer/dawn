{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1854f6f7_fcfddc01",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2136,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "Having a hard time figuring out why DeviceBase::WaitAny would ever need to handle mixed SystemEventReceivers and non-SystemEventReceivers. Normally I\u0027d expect any given device to either have all SystemEvents or no SystemEvents. Is it because we may have upgraded a future to use a SystemEvent after it was created?",
      "range": {
        "startLine": 2136,
        "startChar": 41,
        "endLine": 2136,
        "endChar": 73
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a0cb020_8a233a64",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2136,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-10-19T02:25:21Z",
      "side": 1,
      "message": "yea, the plan is to sort of lazily create them. especially for Vulkan if we use the post task hook to convert fences into OS events - we don\u0027t want to do the post task all the time",
      "parentUuid": "1854f6f7_fcfddc01",
      "range": {
        "startLine": 2136,
        "startChar": 41,
        "endLine": 2136,
        "endChar": 73
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "687d5e14_7c48ead9",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2136,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:11:40Z",
      "side": 1,
      "message": "but also - all devices will use system event receiver for async pipeline compile, but don\u0027t need to use system event receiver for queue-related work.",
      "parentUuid": "8a0cb020_8a233a64",
      "range": {
        "startLine": 2136,
        "startChar": 41,
        "endLine": 2136,
        "endChar": 73
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fb8aacf_afd3d676",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2136,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-16T16:10:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "687d5e14_7c48ead9",
      "range": {
        "startLine": 2136,
        "startChar": 41,
        "endLine": 2136,
        "endChar": 73
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80d39a69_d5153357",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2139,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "ExecutionSerial is 64-bit but this is UINT32_MAX. Use kMaxExecutionSerial?",
      "range": {
        "startLine": 2139,
        "startChar": 39,
        "endLine": 2139,
        "endChar": 66
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60d61fcb_ec0b1d52",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2139,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80d39a69_d5153357",
      "range": {
        "startLine": 2139,
        "startChar": 39,
        "endLine": 2139,
        "endChar": 66
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62e6db3b_6fb85bc1",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2158,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "What guarantees we can do this? It\u0027s not generally possible (on Vulkan).",
      "range": {
        "startLine": 2157,
        "startChar": 79,
        "endLine": 2158,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e85c15bd_a6b1d1a4",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2158,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-10-19T02:25:21Z",
      "side": 1,
      "message": "everywhere except Vulkan pretty much",
      "parentUuid": "62e6db3b_6fb85bc1",
      "range": {
        "startLine": 2157,
        "startChar": 79,
        "endLine": 2158,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c6b5897_88bd3616",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2158,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-16T16:10:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e85c15bd_a6b1d1a4",
      "range": {
        "startLine": 2157,
        "startChar": 79,
        "endLine": 2158,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8c2ad86_daa8295d",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2190,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "Isn\u0027t this always false?",
      "range": {
        "startLine": 2190,
        "startChar": 12,
        "endLine": 2190,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d09d433e_1c02156b",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2190,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-10-19T02:25:21Z",
      "side": 1,
      "message": "whoops, yes",
      "parentUuid": "c8c2ad86_daa8295d",
      "range": {
        "startLine": 2190,
        "startChar": 12,
        "endLine": 2190,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8e004f9_abc15f1e",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2190,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d09d433e_1c02156b",
      "range": {
        "startLine": 2190,
        "startChar": 12,
        "endLine": 2190,
        "endChar": 24
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61959445_635a6225",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2206,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "I think I would slightly refactor so the top level is\n\n```\nif (isPoll) {\n  do a poll\n} else {\n  all of this\n}\n```",
      "range": {
        "startLine": 2155,
        "startChar": 0,
        "endLine": 2206,
        "endChar": 5
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1501ebee_89796348",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2206,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-10-19T02:25:21Z",
      "side": 1,
      "message": "so we need to have a poll after the wait - that\u0027s because we don\u0027t always know which ones completed after the wait. vkWaitForFences tells you if it finished but not which fences completed\n\nalso, because we\u0027re doing the thing where we only wait for the first queue serial, we don\u0027t know if the other serials passed and we need to poll them",
      "parentUuid": "61959445_635a6225",
      "range": {
        "startLine": 2155,
        "startChar": 0,
        "endLine": 2206,
        "endChar": 5
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd42f36c_7fb15485",
        "filename": "src/dawn/native/Device.cpp",
        "patchSetId": 6
      },
      "lineNbr": 2206,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "loko had the same concern; let\u0027s move discussion to https://dawn-review.googlesource.com/c/dawn/+/156301/comment/6573695d_9593bceb/. I changed things a bit to try to address this.",
      "parentUuid": "1501ebee_89796348",
      "range": {
        "startLine": 2155,
        "startChar": 0,
        "endLine": 2206,
        "endChar": 5
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1afbc646_a45b04b5",
        "filename": "src/dawn/native/EventManager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "This would be like, an error from vkWaitForFences? Does that lose the device? (If so, mention that here as an explanation for why we\u0027re marking all futures as ready.)",
      "range": {
        "startLine": 81,
        "startChar": 23,
        "endLine": 81,
        "endChar": 41
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2a7b5f8c_1ba2e345",
        "filename": "src/dawn/native/EventManager.cpp",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1afbc646_a45b04b5",
      "range": {
        "startLine": 81,
        "startChar": 23,
        "endLine": 81,
        "endChar": 41
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72f4af75_05373e80",
        "filename": "src/dawn/native/Queue.cpp",
        "patchSetId": 6
      },
      "lineNbr": 199,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "```suggestion\n    // Create an event backed by the given queue execution serial.\n```",
      "range": {
        "startLine": 199,
        "startChar": 43,
        "endLine": 199,
        "endChar": 45
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26953b0f_e384073d",
        "filename": "src/dawn/native/Queue.cpp",
        "patchSetId": 6
      },
      "lineNbr": 199,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72f4af75_05373e80",
      "range": {
        "startLine": 199,
        "startChar": 43,
        "endLine": 199,
        "endChar": 45
      },
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d9d58b9_3f369730",
        "filename": "src/dawn/native/Queue.cpp",
        "patchSetId": 6
      },
      "lineNbr": 213,
      "author": {
        "id": 1000015
      },
      "writtenOn": "2023-10-19T01:32:31Z",
      "side": 1,
      "message": "nit: kBeginningOfGPUTime",
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de046294_e4da3101",
        "filename": "src/dawn/native/Queue.cpp",
        "patchSetId": 6
      },
      "lineNbr": 213,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-11-03T02:06:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d9d58b9_3f369730",
      "revId": "5674b5300082499a3ab949d25187b957752667ca",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}