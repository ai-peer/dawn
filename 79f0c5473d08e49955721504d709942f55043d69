{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3003aa0f_2d997a1e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2024-01-04T21:44:36Z",
      "side": 1,
      "message": "The logic looks good (despite my hatred of the `std::async` API), however I\u0027m concerned about introduction of bot flakes with this type of test.\n\nAside from the flakiness around testing for timeouts, I\u0027m also concerned that forcibly causing the GPU to hang may cause trouble for tests that follow. For example, I know some driver crashes require a system reboot before my linux desktop behaves correctly and reliably again. Unfortunately I don\u0027t have good suggestions for either of these issues.\n\nI\u0027m going to delegate to Austin and Corentin for this one. Maybe Dawn already has tests that do this sort of thing, and my concerns are overblown.",
      "revId": "79f0c5473d08e49955721504d709942f55043d69",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8599b611_8312526f",
        "filename": "src/dawn/tests/end2end/ComputeInfiniteLoopTests.cpp",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2024-01-04T21:44:36Z",
      "side": 1,
      "message": "used?",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 20
      },
      "revId": "79f0c5473d08e49955721504d709942f55043d69",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "787f7337_29bd6909",
        "filename": "src/dawn/tests/end2end/ComputeInfiniteLoopTests.cpp",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2024-01-04T21:44:36Z",
      "side": 1,
      "message": "Note: all of these [are banned in the Chromium C++ style guide](https://chromium.googlesource.com/chromium/src/+/main/styleguide/c++/c++-features.md#modern-c_use-in-chromium).\nTint violates a bunch of these rules, but usually for code that\u0027s not built and run on Chromium CQ infra. Hopefully this won\u0027t trigger alarms.",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 30,
        "endChar": 17
      },
      "revId": "79f0c5473d08e49955721504d709942f55043d69",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "825fad81_9cd68e3f",
        "filename": "src/dawn/tests/end2end/ComputeInfiniteLoopTests.cpp",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1001737
      },
      "writtenOn": "2024-01-04T21:44:36Z",
      "side": 1,
      "message": "Unfortunately any sort of time-based testing is often very unreliable and will likely cause flakes on bots. What seems like an acceptable threshold for one machine rarely works for all hardware that can run these tests.\n\nA pass / fail threshold delta of one second is small enough to cause false-positives on tests that only run on the CPU due to random process interruptions by the OS / Cloud VM (I know through repeated experience of attempting this sort of thing), and when using GPUs timing variance can get even more wild.\n\nMy general guidance is to never write tests that depend on timing (unless working on a RTOS), and for what you\u0027re trying to test, I don\u0027t have any great suggestions here. Bumping the timeout will reduce the probability of flakes, but will make the tests take longer to pass for everyone.",
      "range": {
        "startLine": 146,
        "startChar": 61,
        "endLine": 146,
        "endChar": 85
      },
      "revId": "79f0c5473d08e49955721504d709942f55043d69",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}