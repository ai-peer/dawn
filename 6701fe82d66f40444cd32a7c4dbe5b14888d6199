{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7de72816_12e8df16",
        "filename": "src/tint/lang/wgsl/inspector/inspector.cc",
        "patchSetId": 2
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000257
      },
      "writtenOn": "2024-04-25T19:14:34Z",
      "side": 1,
      "message": "This doesn\u0027t seem like it\u0027s simplifying things. It\u0027s duplicated the code into each of the case blocks, `texture_expr`, `texture_sem` and other bits seem to be the same over all blocks? The `type` seems to be declared uninitialized at 1082, and used in the lambda, so if a blocks forgets to set it, we\u0027ll end up using an uninitialized value.",
      "revId": "6701fe82d66f40444cd32a7c4dbe5b14888d6199",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0baa0cd_5e40c54f",
        "filename": "src/tint/lang/wgsl/inspector/inspector.cc",
        "patchSetId": 2
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2024-05-01T19:52:00Z",
      "side": 1,
      "message": "Seems like it would be clearer/safer to pass type and texture_sem as parameters to the lambda, rather than capturing them. Would that work?",
      "parentUuid": "7de72816_12e8df16",
      "revId": "6701fe82d66f40444cd32a7c4dbe5b14888d6199",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2dc680c9_ce174368",
        "filename": "src/tint/lang/wgsl/inspector/inspector.cc",
        "patchSetId": 2
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2024-05-01T19:57:16Z",
      "side": 1,
      "message": "In fact, maybe you could pass \"call\" to the lambda hand refactor the -\u003eDeclaration()-\u003eargs[0] and GetVal(texture_expr)-\u003eRootIdentifier() out of all but one of them. There would be a bit of duplicated code in the kTextureLoad case, though.",
      "parentUuid": "d0baa0cd_5e40c54f",
      "revId": "6701fe82d66f40444cd32a7c4dbe5b14888d6199",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "333c1a93_2380f9a9",
        "filename": "src/tint/lang/wgsl/inspector/inspector.cc",
        "patchSetId": 2
      },
      "lineNbr": 1097,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2024-05-01T21:15:23Z",
      "side": 1,
      "message": "Thanks for the suggestions.\nIn addition I put a optional texture_sem which only get passed in kTextureLoad case, otherwise it will get it inside the `queryTexturebuiltin` lambda.\nDoes it look better now?",
      "parentUuid": "2dc680c9_ce174368",
      "revId": "6701fe82d66f40444cd32a7c4dbe5b14888d6199",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}