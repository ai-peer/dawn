{
  "comments": [
    {
      "key": {
        "uuid": "0e77fb6d_a3af7d40",
        "filename": "src/dawn_native/PassResourceUsage.h",
        "patchSetId": 9
      },
      "lineNbr": 46,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2020-06-09T19:06:51Z",
      "side": 1,
      "message": "[1]",
      "range": {
        "startLine": 44,
        "startChar": 4,
        "endLine": 46,
        "endChar": 61
      },
      "revId": "8a2a45a2cd3eb47384ea9fe92713d2bcd3884534",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b180b22_8082f021",
        "filename": "src/dawn_native/vulkan/TextureVk.cpp",
        "patchSetId": 9
      },
      "lineNbr": 774,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2020-06-09T20:40:18Z",
      "side": 1,
      "message": "Maybe this is fragile, and would be better done after we compress the vector to a single usage state if it\u0027s all the same,\n\nBut here, we really only need to store mSubresourceLastUsages[0].\nThen, instead of passing mSubresourceLastUsages[index] to BuildOneMemoryBarrier,\nwe can always pass index 0 if mDefinitelySameLastUsagesAcrossSubresources. We\u0027d do the same in the loop in TransitionUsageNow.\n\nOk with me though to defer this until after we have a better way of encapsulating the state.",
      "range": {
        "startLine": 772,
        "startChar": 16,
        "endLine": 774,
        "endChar": 17
      },
      "revId": "8a2a45a2cd3eb47384ea9fe92713d2bcd3884534",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0a0641d_a23bb33a",
        "filename": "src/dawn_native/vulkan/TextureVk.cpp",
        "patchSetId": 9
      },
      "lineNbr": 774,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2020-06-09T21:23:22Z",
      "side": 1,
      "message": "Ack\n\nThat\u0027s true. It is absolutely OK to assign mSubresourceLastUsages[0] only for the current pass. And we can either use mSubresourceLastUsages[0] afterwards if mDefinitelySameLastUsagesAcrossSubresources is true or spread mSubresourceLastUsages[0] to other subresources once mDefinitelySameLastUsagesAcrossSubresource switches to false. That\u0027s not a tiny change. Let\u0027s revisit this when we compress/decompress the vector, as the TODO I added in PassResourceUsage.h.",
      "parentUuid": "5b180b22_8082f021",
      "range": {
        "startLine": 772,
        "startChar": 16,
        "endLine": 774,
        "endChar": 17
      },
      "revId": "8a2a45a2cd3eb47384ea9fe92713d2bcd3884534",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f7c6ab_2a35bc3d",
        "filename": "src/dawn_native/vulkan/TextureVk.cpp",
        "patchSetId": 9
      },
      "lineNbr": 846,
      "author": {
        "id": 1000017
      },
      "writtenOn": "2020-06-09T19:06:51Z",
      "side": 1,
      "message": "[2]",
      "range": {
        "startLine": 845,
        "startChar": 8,
        "endLine": 846,
        "endChar": 37
      },
      "revId": "8a2a45a2cd3eb47384ea9fe92713d2bcd3884534",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd",
      "unresolved": false
    }
  ]
}