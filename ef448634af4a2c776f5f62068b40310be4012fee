{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "37a7a717_0f2b7b0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001616
      },
      "writtenOn": "2021-03-24T16:10:12Z",
      "side": 1,
      "message": "I found this crash when running natively, using Dawn as the WebGPU implementation. When running using WASM in Chrome this crash doesn\u0027t occur. I assume callbacks are handled differently?\n\nThere could be more cases of callbacks causing re-entrance issues, but this is what I\u0027ve found for now.\n\nI can add a test for this if the fix is good.",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6cb471a4_579be6e9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-03-24T17:12:15Z",
      "side": 1,
      "message": "PTAL!\n\nThanks for the contribution! The fix looks good, but like you said, can we have tests for it?",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34e32932_d6b7a71d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001616
      },
      "writtenOn": "2021-03-24T17:53:17Z",
      "side": 1,
      "message": "Hi, I\u0027m not sure what \"PTAL\" means. I haven\u0027t seen this acronym before.\n\nFor tests, what kind? Unit tests?",
      "parentUuid": "6cb471a4_579be6e9",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfe71100_0d5a5009",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2021-03-24T18:02:18Z",
      "side": 1,
      "message": "PTAL is Please Take A Look (that was addressed at the people I added as reviewers).\n\nLGTM \u003d Looks Good To Me, we use that a lot too.\n\nI think the tests would be unittests. We have similar tests here: https://source.chromium.org/chromium/chromium/src/+/master:third_party/dawn/src/tests/unittests/validation/BufferValidationTests.cpp;l\u003d404\n\nBut these would live in this file https://source.chromium.org/chromium/chromium/src/+/master:third_party/dawn/src/tests/unittests/validation/QueueOnSubmittedWorkDoneValidationTests.cpp\n\nand this file https://source.chromium.org/chromium/chromium/src/+/master:third_party/dawn/src/tests/unittests/validation/RenderPipelineValidationTests.cpp (somehow we don\u0027t have PipelineAsync tests there, but it\u0027s where it should live.)",
      "parentUuid": "34e32932_d6b7a71d",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "170fbf4d_b263fbf4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001616
      },
      "writtenOn": "2021-03-24T18:17:58Z",
      "side": 1,
      "message": "Thanks for the clarification.\n\nFrom the code it looks like the CreatePipelineAsync feature is still in development, I had to change a toggle to enable it. Maybe that\u0027s why there are no tests yet.",
      "parentUuid": "bfe71100_0d5a5009",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ded25c23_f895dc82",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2021-03-24T19:28:46Z",
      "side": 1,
      "message": "we have src/tests/end2end/CreatePipelineAsyncTests.cpp. Looks like we neglected to add the unittests for it. Ok to add unittests just for your change here.",
      "parentUuid": "170fbf4d_b263fbf4",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cda8217_52412f93",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2021-03-25T00:42:58Z",
      "side": 1,
      "message": "Also could you file an issue to https://bugs.chromium.org/p/dawn/issues/list and mention it in this CL?",
      "parentUuid": "ded25c23_f895dc82",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc09ba6a_89aa12a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001616
      },
      "writtenOn": "2021-03-28T19:01:39Z",
      "side": 1,
      "message": "Would it make sense to put the tests in QueueSubmitValidationTest? Since this is about a crash occurring in Queue::Submit.",
      "parentUuid": "1cda8217_52412f93",
      "revId": "ef448634af4a2c776f5f62068b40310be4012fee",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}