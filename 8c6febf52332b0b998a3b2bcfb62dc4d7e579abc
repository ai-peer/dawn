{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ba7e36af_80a47b2e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000028
      },
      "writtenOn": "2024-02-20T06:15:28Z",
      "side": 1,
      "message": "The perf data on Gen9 and Gen12 can be found:\nhttps://docs.google.com/spreadsheets/d/1q92nfMMLc9MUW976Y-Txk3tzNOdp9eY1MKhqbFarJpk/edit?pli\u003d1\u0026resourcekey\u003d0-QurcuMefwg447hihiz1P7A#gid\u003d1474459215",
      "revId": "8c6febf52332b0b998a3b2bcfb62dc4d7e579abc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6b4cac5_4e4a1a10",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000028
      },
      "writtenOn": "2024-02-21T02:11:13Z",
      "side": 1,
      "message": "To update a uniform buffer on d3d11 backend, we can use\n1) `UpdateSubresource1` (WriteBuffer_Full_xxx), or\n2) `Map`+`CopySubresourceRegion`(WriteBuffer_Partial_xxx, xxxStagingBuffer_xxx)\n    2.1) SingleStagingBuffer_xxx added in this CL intends to measure `CopySubresourceRegion` only.\n\nThe perf data reveals:\n1) `UpdateSubresource1` is fast on both Gen9 and Gen12.\n2) `CopySubresourceRegion` itself is also slow on Gen12, but not on Gen9.\n3) `Map` is slow both.",
      "parentUuid": "ba7e36af_80a47b2e",
      "revId": "8c6febf52332b0b998a3b2bcfb62dc4d7e579abc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d06879fe_816f5bae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000028
      },
      "writtenOn": "2024-02-22T01:23:50Z",
      "side": 1,
      "message": "For `CopySubresourceRegion`, the driver largely uses 3D and compute kernels. The hardware state for these operations will likely be significantly different from what the application has currently bound to the pipeline requiring the driver to save and restore these commands when the application switches between copying data and doing 3D operations. The overhead could be:\n1)driver needs to save and restore 3D pipeline state before and after each operation.\n2)Pipeline is often flushed.\nNot sure why Gen12 is worse on this.",
      "parentUuid": "a6b4cac5_4e4a1a10",
      "revId": "8c6febf52332b0b998a3b2bcfb62dc4d7e579abc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "128d7bac_2444b084",
        "filename": "src/dawn/tests/perf_tests/UniformBufferUpdatePerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1002331
      },
      "writtenOn": "2024-02-21T12:36:37Z",
      "side": 1,
      "message": "nit: please add one line comment for each method.",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 26
      },
      "revId": "8c6febf52332b0b998a3b2bcfb62dc4d7e579abc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e7fb664_9e3a7a40",
        "filename": "src/dawn/tests/perf_tests/UniformBufferUpdatePerf.cpp",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1000028
      },
      "writtenOn": "2024-02-22T01:23:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "128d7bac_2444b084",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 26
      },
      "revId": "8c6febf52332b0b998a3b2bcfb62dc4d7e579abc",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}