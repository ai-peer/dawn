[access]
	inheritFrom = All-Projects
[submit]
	action = rebase always
	rejectEmptyCommit = true
	matchAuthorToCommitterDate = true
[project]
	description = Dawn, a WebGPU implementation
[change]
	workInProgressByDefault = true
[receive]
	requireChangeId = true
	requireContributorAgreement = true

[access "refs/*"]
	owner = group cria/project-dawn-admins
	label-Code-Review = -2..+2 group cria/project-dawn-committers
	label-Code-Review = -1..+1 group cria/project-dawn-tryjob-access
	label-Kokoro = -1..+1 group mdb/kokoro
	label-Kokoro = -1..+1 group mdb/kokoro-dedicated
	label-Kokoro = +0..+1 group cria/project-dawn-committers
	read = group chrome-branch-day@chops-service-accounts.iam.gserviceaccount.com
[access "refs/meta/config"]
	# This is redundant with refs/*
	owner = group cria/project-dawn-admins
	submit = group cria/project-dawn-admins
[access "refs/heads/*"]
	submit = group cria/project-dawn-committers
	abandon = group cria/project-dawn-committers
	label-Commit-Queue = +0..+2 group Change Owner
	label-Commit-Queue = +0..+2 group cria/project-dawn-committers
	label-Commit-Queue = +0..+2 group mdb/chrome-release
	labelAs-Commit-Queue = +0..+2 group dawn-scoped@luci-project-accounts.iam.gserviceaccount.com
	labelAs-Commit-Queue = +0..+1 group cria/project-dawn-tryjob-access
	label-Auto-Submit = +0..+1 group Change Owner
	submit = group dawn-scoped@luci-project-accounts.iam.gserviceaccount.com
	create = group chromium-branch-creators
[label "Commit-Queue"]
	function = NoBlock
	abbreviation = CQ
	value = 0 Not Ready
	value = +1 Dry Run
	value = +2 Commit
	defaultValue = 0
	copyCondition = changekind:NO_CHANGE
[label "Auto-Submit"]
	function = NoBlock
	defaultValue = 0
	value = 0 Do not send CL to CQ automatically after approval
	value = +1 Send CL to CQ automatically after approval
	copyCondition = changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MAX OR is:MIN
[label "Kokoro"]
	function = NoBlock
	value = -1 Fails
	value = 0 No score
	value = +1 Verified
	defaultValue = 0
	copyCondition = changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE
[access "refs/tags/*"]
	create = group chromium-branch-creators
	push = group chromium-branch-creators
[access "refs/for/*"]
	push = group chrome-branch-day@chops-service-accounts.iam.gserviceaccount.com
[submit-requirement "Kokoro"]
	description = A maximum vote is required for the Kokoro label. A minimum vote is blocking.
	submittableIf = label:Kokoro=MAX AND -label:Kokoro=MIN
	overrideIf = uploader:dawn-autoroll@skia-public.iam.gserviceaccount.com
	canOverrideInChildProjects = true
