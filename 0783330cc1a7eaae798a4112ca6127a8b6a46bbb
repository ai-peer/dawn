{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bdf2ac6d_a08d576e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001591
      },
      "writtenOn": "2023-01-25T23:40:14Z",
      "side": 1,
      "message": "For reference, there was an internal chat about this at the time it was written. Included here for reference.\n\n//----------------------//\n\nBrandon Jones, Aug 11, 10:35 AM\nQuestion on returning an invalid device from requestDevice(), as discussed in https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1234617\n\nGiven that DeviceBase has several pure virtual functions, would there be downsides that I\u0027m not aware of to creating a Null Device, forcing it to be lost, and then returning that in the case of an error?\n\nKai Ninomiya, Aug 11, 11:25 AM\nCan we either make them non pure virtual, or create an ErrorDevice subclass?\n\nlike we have TextureBase::MakeError\n\nidk if that will work for devices though\n\nnull is prooooobably fine but I don\u0027t know\n\nBrandon Jones, Aug 11, 12:17 PM\nI initially thought about making an ErrorDevice subclass, but after poking around a bit I felt like it was pretty much just going to end up being a near copy of the Null device.\n\nAustin Eng, Aug 11, 12:21 PM\nI think generally it should be fine - we would of course need to make sure we test it well. null device originally wasn\u0027t intended for anything except running validation tests\n\nCorentin Wallez, Aug 12, 1:23 AM\nWe\u0027ll still need a mode where NullDevice doesn\u0027t return validation errors for everything, because that\u0027s used for validation tests. There\u0027s also all the NullBuffer NullTexture and friends that aren\u0027t really needed because we can use Buffer::CreateError and similar for all objects. So IMHO there isn\u0027t that much duplication and we could add an ErroDevice. But a bool on DeviceNull would work as well, either way seems ok.",
      "revId": "0783330cc1a7eaae798a4112ca6127a8b6a46bbb",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "0783330cc1a7eaae798a4112ca6127a8b6a46bbb",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Kokoro",
        "description": {
          "value": "A maximum vote is required for the Kokoro label. A minimum vote is blocking."
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Kokoro\u003dMAX AND -label:Kokoro\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "uploader:dawn-autoroll@skia-public.iam.gserviceaccount.com"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Kokoro=MAX AND -label:Kokoro=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Kokoro=MAX","label:Kokoro=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"uploader:dawn-autoroll@skia-public.iam.gserviceaccount.com"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["uploader:dawn-autoroll@skia-public.iam.gserviceaccount.com"]}
      },
      "patchSetCommitId": "0783330cc1a7eaae798a4112ca6127a8b6a46bbb",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "0783330cc1a7eaae798a4112ca6127a8b6a46bbb",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}