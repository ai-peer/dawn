{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "43ddbb7f_ce541d78",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2022-07-06T21:30:12Z",
      "side": 1,
      "message": "This change (together with other unlanded chromium change) will produce the expected result in a new unlanded reftest for canvas with opaque alpha mode read by toDataURL, 2d context draw image, etc.\n\nLooking at the shader code changing color.a won\u0027t collide with other path (but I\u0027m not sure if there\u0027s any other impact)",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b82a88e_76d4b4c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-07-07T10:31:41Z",
      "side": 1,
      "message": "LGTM",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ef94825_6a380f83",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-07-07T10:31:41Z",
      "side": 1,
      "message": "Maybe we could have a small test in CopyTextureForBrowserTests.cpp for the new behavior?",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7e5efdc_015d4d15",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2022-07-08T22:48:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ef94825_6a380f83",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9f63c74_58ee7f58",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-07-07T10:31:41Z",
      "side": 1,
      "message": "nit: maybe mention \"src\" in the name since it could also be clearing post-unpremultiply.\n\nWhich brings the question, are you sure that we need to clear the src and not the dst alpha channel? I\u0027m not 100% (and not even sure if it makes a difference ^^)",
      "range": {
        "startLine": 148,
        "startChar": 20,
        "endLine": 148,
        "endChar": 36
      },
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e756243_2e12070f",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2022-07-08T22:48:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f9f63c74_58ee7f58",
      "range": {
        "startLine": 148,
        "startChar": 20,
        "endLine": 148,
        "endChar": 36
      },
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1207fef3_be35ecfb",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2022-07-08T00:58:27Z",
      "side": 1,
      "message": "IMHO, maybe better to apply this as the final step? I\u0027m thinking about a case like this:\nConfig the canvas as opaque --\u003e GetCurrentTexture() ---\u003e Calling CopyExternalImageToTexture with ExternalImage configured to premultipliedAlpha to true (and source canvas is true) and is from color space p3 ---\u003e GetCurrentTexture()\n\nI know it is Ok for current logic because it seems the ClearAlphaToOne step is excluded with all of other steps (Or we could ensure this). But from the execution order view, it seems the clear alpha channel should happens at the last step.",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f42c3bc_f5635795",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2022-07-08T22:48:22Z",
      "side": 1,
      "message": "Done. Add some comments saying ClearSrcAlphaToOne step is exclusive with Premultiply/Unpremultiply step.\nGiven the statement \"Alpha is not involved in color management\" and looking at the code it should have not impact with other steps.",
      "parentUuid": "1207fef3_be35ecfb",
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81a3bf4e_f83aca5e",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 464,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2022-07-07T10:31:41Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 464,
        "startChar": 23,
        "endLine": 464,
        "endChar": 39
      },
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "236a668f_8e56c0be",
        "filename": "src/dawn/native/CopyTextureForBrowserHelper.cpp",
        "patchSetId": 1
      },
      "lineNbr": 464,
      "author": {
        "id": 1000685
      },
      "writtenOn": "2022-07-08T22:48:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81a3bf4e_f83aca5e",
      "range": {
        "startLine": 464,
        "startChar": 23,
        "endLine": 464,
        "endChar": 39
      },
      "revId": "b475d8c6572e8a1ba1e8183acbb41c9f62c7f28c",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}