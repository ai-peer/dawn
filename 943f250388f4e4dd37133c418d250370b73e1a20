{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2d0c4b45_ea668211",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T21:34:50Z",
      "side": 1,
      "message": "nit: you could add `const Device*` as the first arg so we don\u0027t need to get it again. several validation fns take device as the first arg.",
      "range": {
        "startLine": 182,
        "startChar": 53,
        "endLine": 182,
        "endChar": 58
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e8b8b3a_02f1ba1b",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T02:11:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d0c4b45_ea668211",
      "range": {
        "startLine": 182,
        "startChar": 53,
        "endLine": 182,
        "endChar": 58
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1fe9297_ff5fbe42",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2023-05-17T21:39:42Z",
      "side": 1,
      "message": "Something feels funny to me about calling API functions from with Dawn. The other way to do this would be adapter-\u003eGetFeatureLevel() \u003d\u003d FeatureLevel::Compatibility, but I defer to Austin here.",
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1044af3_218c07ab",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 185,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T02:11:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1fe9297_ff5fbe42",
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d85d38b3_8e012a7f",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 186,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T21:34:50Z",
      "side": 1,
      "message": "nit: prefer to do `adapter-\u003eGetFeatureLevel() \u003d\u003d FeatureLevel::Compatibility`\n\ncan also add a device-\u003eGetFeatureLevel() for convenience since I imagine we\u0027ll be asking the question often. (or even device-\u003eIsCompat() ? )",
      "range": {
        "startLine": 185,
        "startChar": 39,
        "endLine": 186,
        "endChar": 66
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f94759c3_232dd306",
        "filename": "src/dawn/native/Texture.cpp",
        "patchSetId": 3
      },
      "lineNbr": 186,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T02:11:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d85d38b3_8e012a7f",
      "range": {
        "startLine": 185,
        "startChar": 39,
        "endLine": 186,
        "endChar": 66
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "657eb23e_75052159",
        "filename": "src/dawn/tests/unittests/validation/CompatValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T21:34:50Z",
      "side": 1,
      "message": "nit: wrap everything after the #includes in\n\n```\nnamespace dawn {\nnamespace {\n\nclass CompatValidationTest : public ValidationTest {\n  ...\n};\n\nTEST_F(...) {\n  ...\n}\n\n\n}  // anonymous namespace\n}  // namespace dawn\n\n```\n\neventually ValidationTest is going to move to be dawn::ValidationTest",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 11
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1f11cdd_81fc795f",
        "filename": "src/dawn/tests/unittests/validation/CompatValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T02:11:55Z",
      "side": 1,
      "message": "Done, but FYI, I copied some other test. If you want this pattern going forward I\u0027d suggest you fix the existing tests so there isn\u0027t something to copy from that\u0027s not the pattern you what people to repeat.",
      "parentUuid": "657eb23e_75052159",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 11
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67aaa0b3_01849a8f",
        "filename": "src/dawn/tests/unittests/validation/CompatValidationTests.cpp",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-18T02:29:24Z",
      "side": 1,
      "message": "yup, started this process in https://dawn-review.googlesource.com/c/dawn/+/132841 but perhaps I missed some",
      "parentUuid": "a1f11cdd_81fc795f",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 11
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2f58252_324d08dd",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T21:34:50Z",
      "side": 1,
      "message": "it\u0027s failing tests because the options get dropped on the floor. We should probably pass null at [1] so it\u0027s less confusing.\n\nthe easy thing to do to make it work might be to query a virtual gCurrentTest-\u003eUseCompatMode() inside here.\n\nThe better thing is probably to make an options struct to specify backend type.\n\nlike\n\n```\n// Can be chained on WGPURequestAdapterOptions\ntypedef struct WGPURequestAdapterOptionsBackendType {\n  WGPUChainedStruct chain;\n  WGPUBackendType backendType;\n} WGPURequestAdapterOptionsBackendType;\n```\n\nyou\u0027ll do that by editing dawn.json to specify the new extension struct.\n\nprobably bikeshedding to do on how we specify this. like maybe the struct should be a list of backend types that you\u0027d like to request. that way you can do [Null], or [D3D11, D3D12], etc.\n\nthat said, gCurrentTest-\u003eUseCompatMode() is probably best for now so that we don\u0027t go off and implement WGPURequestAdapterOptionsBackendType before agreeing in webgpu.h what it should look like.",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1ec0bf1_7c1f5c37",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2023-05-17T22:03:27Z",
      "side": 1,
      "message": "Out of curiosity, why do we want to pick a particular backend? Can\u0027t we just test validation against the Null backend in Compat mode?",
      "parentUuid": "f2f58252_324d08dd",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45b62eaf_9c10daae",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T22:06:51Z",
      "side": 1,
      "message": "yes we can (and currently are) use just the null backend\n\nthe current code here is trying to exclusively pick only the Null backend though. This wouldn\u0027t normally happen if you called instance.RequestAdapter(..); you might get the d3d12 or metal backend instead. while the validation tests should work there too, it would be unexpected that they\u0027re running on a real backend",
      "parentUuid": "a1ec0bf1_7c1f5c37",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a302d1df_0873f015",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000024
      },
      "writtenOn": "2023-05-17T22:11:10Z",
      "side": 1,
      "message": "Gotcha.",
      "parentUuid": "45b62eaf_9c10daae",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abab67b9_d05abe79",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T02:11:55Z",
      "side": 1,
      "message": "I don\u0027t think I understand what you\u0027re asking me to do. Adding `UseCompatMode` ok. Where do I call this? How do I use it in instanceRequestAdapter. If I understand correctly, if I add a compat mode adapter, lots of other tests will wrongly pick up that adapter since they aren\u0027t rejecting compat mode adapaters",
      "parentUuid": "a302d1df_0873f015",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0fd5738_3dfc221b",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-18T02:29:24Z",
      "side": 1,
      "message": "have `virtual bool ValidationTest::UseCompatMode() const` return false\nhave `bool CompatValidationTest::UseCompatMode() const override` return true\n\nprocs.instanceRequestAdapter is currently a function which looks through all the adapters and finds the null backend.\nYou can change it to ALSO find an adapter that matches whatever gCurrentTest-\u003eUseCompatMode() says. This way, only tests running under CompatValidationTest will use the compat adapter",
      "parentUuid": "abab67b9_d05abe79",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ad605fa_f6983ae6",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T03:37:54Z",
      "side": 1,
      "message": "right, I did that. What I don\u0027t get is where I tell it to make an adapter that uses compat. Here, all I\u0027m doing is filtering existing adapters, no where have I told it \"hey, make an adapter that uses compat.\" ... but, I guess it must already be doing that since it works so 🤷‍♂️ 😅",
      "parentUuid": "b0fd5738_3dfc221b",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24ae8c2d_a9294b50",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-18T04:02:04Z",
      "side": 1,
      "message": "ah yes - so GetAdapters will return to you all known adapters on the system in both Compat and non-Compat mode if the adapter supports both, otherwise just compat mode. see [here](https://source.chromium.org/chromium/chromium/src/+/main:third_party/dawn/src/dawn/native/Instance.cpp;l\u003d379?q\u003dGetAdapters%20f:dawn%20f:instance)",
      "parentUuid": "9ad605fa_f6983ae6",
      "range": {
        "startLine": 92,
        "startChar": 61,
        "endLine": 110,
        "endChar": 9
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df2f397f_2b1fbb8c",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-17T21:34:50Z",
      "side": 1,
      "message": "[1]",
      "range": {
        "startLine": 162,
        "startChar": 0,
        "endLine": 162,
        "endChar": 17
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26c0a6ce_f93b5d46",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1003446
      },
      "writtenOn": "2023-05-18T03:43:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df2f397f_2b1fbb8c",
      "range": {
        "startLine": 162,
        "startChar": 0,
        "endLine": 162,
        "endChar": 17
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bfa5f25_8b1ab9e3",
        "filename": "src/dawn/tests/unittests/validation/ValidationTest.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000032
      },
      "writtenOn": "2023-05-18T04:02:04Z",
      "side": 1,
      "message": "N/A",
      "parentUuid": "df2f397f_2b1fbb8c",
      "range": {
        "startLine": 162,
        "startChar": 0,
        "endLine": 162,
        "endChar": 17
      },
      "revId": "943f250388f4e4dd37133c418d250370b73e1a20",
      "serverId": "dd02978d-1a8e-36d7-bcc0-a5723e5c0abd"
    }
  ]
}